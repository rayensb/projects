{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/rayensb/projects/blob/main/Planes_report\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "df922b15",
      "metadata": {
        "id": "df922b15"
      },
      "source": [
        "In this report we will be conducting an analysis on US flight details records from 1990  to 1999.\n",
        "We will focus on these years to avoid black swan events such as those that occured in 2001 and 2008 and have consistent data"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "3c8aa168",
      "metadata": {
        "id": "3c8aa168"
      },
      "source": [
        "# Data inspection\n",
        "\n",
        "We will start by importing necessary libraries"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "48e3a115",
      "metadata": {
        "id": "48e3a115"
      },
      "outputs": [],
      "source": [
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "f5843e8a",
      "metadata": {
        "id": "f5843e8a"
      },
      "source": [
        "Then appload the data"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "36f5d238",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 226
        },
        "id": "36f5d238",
        "outputId": "65f196f1-5116-43e5-bd6c-ad934e6e0ba6"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "   Year  Month  DayofMonth  DayOfWeek  DepTime  CRSDepTime  ArrTime  \\\n",
              "0  1990      1           3          3   1707.0        1630   1755.0   \n",
              "1  1990      1           4          4   1706.0        1630   1807.0   \n",
              "2  1990      1           5          5   1629.0        1630   1715.0   \n",
              "3  1990      1           6          6   1633.0        1630   1718.0   \n",
              "4  1990      1           8          1   1630.0        1630   1726.0   \n",
              "\n",
              "   CRSArrTime UniqueCarrier  FlightNum  TailNum  ActualElapsedTime  \\\n",
              "0        1723            US         29      NaN               48.0   \n",
              "1        1723            US         29      NaN               61.0   \n",
              "2        1723            US         29      NaN               46.0   \n",
              "3        1723            US         29      NaN               45.0   \n",
              "4        1723            US         29      NaN               56.0   \n",
              "\n",
              "   CRSElapsedTime  AirTime  ArrDelay  DepDelay Origin Dest  Distance  TaxiIn  \\\n",
              "0            53.0      NaN      32.0      37.0    CMH  IND     182.0     NaN   \n",
              "1            53.0      NaN      44.0      36.0    CMH  IND     182.0     NaN   \n",
              "2            53.0      NaN      -8.0      -1.0    CMH  IND     182.0     NaN   \n",
              "3            53.0      NaN      -5.0       3.0    CMH  IND     182.0     NaN   \n",
              "4            53.0      NaN       3.0       0.0    CMH  IND     182.0     NaN   \n",
              "\n",
              "   TaxiOut  Cancelled  CancellationCode  Diverted  CarrierDelay  WeatherDelay  \\\n",
              "0      NaN        0.0               NaN       0.0           NaN           NaN   \n",
              "1      NaN        0.0               NaN       0.0           NaN           NaN   \n",
              "2      NaN        0.0               NaN       0.0           NaN           NaN   \n",
              "3      NaN        0.0               NaN       0.0           NaN           NaN   \n",
              "4      NaN        0.0               NaN       0.0           NaN           NaN   \n",
              "\n",
              "   NASDelay  SecurityDelay  LateAircraftDelay  \n",
              "0       NaN            NaN                NaN  \n",
              "1       NaN            NaN                NaN  \n",
              "2       NaN            NaN                NaN  \n",
              "3       NaN            NaN                NaN  \n",
              "4       NaN            NaN                NaN  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-84db6e8c-fac0-409c-be21-888cc60c58a3\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Year</th>\n",
              "      <th>Month</th>\n",
              "      <th>DayofMonth</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th>DepTime</th>\n",
              "      <th>CRSDepTime</th>\n",
              "      <th>ArrTime</th>\n",
              "      <th>CRSArrTime</th>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <th>FlightNum</th>\n",
              "      <th>TailNum</th>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>AirTime</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>Origin</th>\n",
              "      <th>Dest</th>\n",
              "      <th>Distance</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>TaxiOut</th>\n",
              "      <th>Cancelled</th>\n",
              "      <th>CancellationCode</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>CarrierDelay</th>\n",
              "      <th>WeatherDelay</th>\n",
              "      <th>NASDelay</th>\n",
              "      <th>SecurityDelay</th>\n",
              "      <th>LateAircraftDelay</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>3</td>\n",
              "      <td>3</td>\n",
              "      <td>1707.0</td>\n",
              "      <td>1630</td>\n",
              "      <td>1755.0</td>\n",
              "      <td>1723</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>48.0</td>\n",
              "      <td>53.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>32.0</td>\n",
              "      <td>37.0</td>\n",
              "      <td>CMH</td>\n",
              "      <td>IND</td>\n",
              "      <td>182.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>4</td>\n",
              "      <td>4</td>\n",
              "      <td>1706.0</td>\n",
              "      <td>1630</td>\n",
              "      <td>1807.0</td>\n",
              "      <td>1723</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>61.0</td>\n",
              "      <td>53.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>44.0</td>\n",
              "      <td>36.0</td>\n",
              "      <td>CMH</td>\n",
              "      <td>IND</td>\n",
              "      <td>182.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>5</td>\n",
              "      <td>5</td>\n",
              "      <td>1629.0</td>\n",
              "      <td>1630</td>\n",
              "      <td>1715.0</td>\n",
              "      <td>1723</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>46.0</td>\n",
              "      <td>53.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>-8.0</td>\n",
              "      <td>-1.0</td>\n",
              "      <td>CMH</td>\n",
              "      <td>IND</td>\n",
              "      <td>182.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>6</td>\n",
              "      <td>6</td>\n",
              "      <td>1633.0</td>\n",
              "      <td>1630</td>\n",
              "      <td>1718.0</td>\n",
              "      <td>1723</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>45.0</td>\n",
              "      <td>53.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>CMH</td>\n",
              "      <td>IND</td>\n",
              "      <td>182.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>8</td>\n",
              "      <td>1</td>\n",
              "      <td>1630.0</td>\n",
              "      <td>1630</td>\n",
              "      <td>1726.0</td>\n",
              "      <td>1723</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>56.0</td>\n",
              "      <td>53.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>3.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>CMH</td>\n",
              "      <td>IND</td>\n",
              "      <td>182.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-84db6e8c-fac0-409c-be21-888cc60c58a3')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-84db6e8c-fac0-409c-be21-888cc60c58a3 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-84db6e8c-fac0-409c-be21-888cc60c58a3');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-5726711e-a676-41ae-9edc-ddfb9c8d267e\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-5726711e-a676-41ae-9edc-ddfb9c8d267e')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-5726711e-a676-41ae-9edc-ddfb9c8d267e button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "df_1990"
            }
          },
          "metadata": {},
          "execution_count": 4
        }
      ],
      "source": [
        "df_1990 = pd.read_csv(\"1990.csv\") #importing the csv files\n",
        "pd.set_option('display.max_columns', None) #this allows us to view all the columns of the dataframe\n",
        "df_1990.head() # viewing the first few rows"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "16b85c85",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "16b85c85",
        "outputId": "75bfc359-1934-4b52-aef6-16e207c684f5"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(43774, 29)"
            ]
          },
          "metadata": {},
          "execution_count": 5
        }
      ],
      "source": [
        "df_1990.shape #get the number of rows and columns"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "c2a82daa",
      "metadata": {
        "id": "c2a82daa"
      },
      "source": [
        "we have a large number of rows and 29 attributes"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "de90a5db",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "de90a5db",
        "outputId": "b64844b5-ed4b-498f-eb23-717302e1b0c7"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Index(['Year', 'Month', 'DayofMonth', 'DayOfWeek', 'DepTime', 'CRSDepTime',\n",
              "       'ArrTime', 'CRSArrTime', 'UniqueCarrier', 'FlightNum', 'TailNum',\n",
              "       'ActualElapsedTime', 'CRSElapsedTime', 'AirTime', 'ArrDelay',\n",
              "       'DepDelay', 'Origin', 'Dest', 'Distance', 'TaxiIn', 'TaxiOut',\n",
              "       'Cancelled', 'CancellationCode', 'Diverted', 'CarrierDelay',\n",
              "       'WeatherDelay', 'NASDelay', 'SecurityDelay', 'LateAircraftDelay'],\n",
              "      dtype='object')"
            ]
          },
          "metadata": {},
          "execution_count": 6
        }
      ],
      "source": [
        "df_1990.columns"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "b2ba3db6",
      "metadata": {
        "id": "b2ba3db6"
      },
      "source": [
        "A description of each of these attributes will be attached in the appendix"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "160ddaa5",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "160ddaa5",
        "outputId": "ab467d17-0267-48a2-92d9-38266b0b9e29"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "<class 'pandas.core.frame.DataFrame'>\n",
            "RangeIndex: 43774 entries, 0 to 43773\n",
            "Data columns (total 29 columns):\n",
            " #   Column             Non-Null Count  Dtype  \n",
            "---  ------             --------------  -----  \n",
            " 0   Year               43774 non-null  int64  \n",
            " 1   Month              43774 non-null  int64  \n",
            " 2   DayofMonth         43774 non-null  int64  \n",
            " 3   DayOfWeek          43774 non-null  int64  \n",
            " 4   DepTime            43029 non-null  float64\n",
            " 5   CRSDepTime         43774 non-null  int64  \n",
            " 6   ArrTime            42849 non-null  float64\n",
            " 7   CRSArrTime         43774 non-null  int64  \n",
            " 8   UniqueCarrier      43774 non-null  object \n",
            " 9   FlightNum          43774 non-null  int64  \n",
            " 10  TailNum            0 non-null      float64\n",
            " 11  ActualElapsedTime  42849 non-null  float64\n",
            " 12  CRSElapsedTime     43773 non-null  float64\n",
            " 13  AirTime            0 non-null      float64\n",
            " 14  ArrDelay           42848 non-null  float64\n",
            " 15  DepDelay           43028 non-null  float64\n",
            " 16  Origin             43773 non-null  object \n",
            " 17  Dest               43773 non-null  object \n",
            " 18  Distance           43483 non-null  float64\n",
            " 19  TaxiIn             0 non-null      float64\n",
            " 20  TaxiOut            0 non-null      float64\n",
            " 21  Cancelled          43773 non-null  float64\n",
            " 22  CancellationCode   0 non-null      float64\n",
            " 23  Diverted           43773 non-null  float64\n",
            " 24  CarrierDelay       0 non-null      float64\n",
            " 25  WeatherDelay       0 non-null      float64\n",
            " 26  NASDelay           0 non-null      float64\n",
            " 27  SecurityDelay      0 non-null      float64\n",
            " 28  LateAircraftDelay  0 non-null      float64\n",
            "dtypes: float64(19), int64(7), object(3)\n",
            "memory usage: 9.7+ MB\n"
          ]
        }
      ],
      "source": [
        "df_1990.info()"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "This shows us the types of each variable , There are 3 categorical variables and 26 numerical"
      ],
      "metadata": {
        "id": "U6xWZ_RWn6xn"
      },
      "id": "U6xWZ_RWn6xn"
    },
    {
      "cell_type": "markdown",
      "id": "079b8e03",
      "metadata": {
        "id": "079b8e03"
      },
      "source": [
        "# Data cleaning\n",
        "we will start looking for general anomalities in our data in order to get more precise insights\n",
        "First we need some statistical insights on our numerical variables"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "40801587",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 864
        },
        "id": "40801587",
        "outputId": "bdd317b3-70bb-48a3-ea95-b7ca0b34d537"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                     count         mean         std     min     25%     50%  \\\n",
              "Year               43774.0  1990.000000    0.000000  1990.0  1990.0  1990.0   \n",
              "Month              43774.0     1.000000    0.000000     1.0     1.0     1.0   \n",
              "DayofMonth         43774.0    16.053708    8.952210     1.0     8.0    16.0   \n",
              "DayOfWeek          43774.0     3.766528    1.996661     1.0     2.0     4.0   \n",
              "DepTime            43029.0  1398.579377  485.828309     1.0  1000.0  1358.0   \n",
              "CRSDepTime         43774.0  1390.037785  477.906913    50.0   950.0  1350.0   \n",
              "ArrTime            42849.0  1504.454316  494.835169     1.0  1120.0  1518.0   \n",
              "CRSArrTime         43774.0  1497.247361  484.268026     9.0  1117.0  1513.0   \n",
              "FlightNum          43774.0   509.471170  335.763252    29.0   241.0   445.0   \n",
              "TailNum                0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "ActualElapsedTime  42849.0    92.066093   56.941586     9.0    58.0    75.0   \n",
              "CRSElapsedTime     43773.0    91.435725   56.637855    20.0    58.0    74.0   \n",
              "AirTime                0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "ArrDelay           42848.0     9.808439   25.017290   -59.0    -4.0     3.0   \n",
              "DepDelay           43028.0     9.601306   22.818885   -29.0    -1.0     2.0   \n",
              "Distance           43483.0   488.109951  451.288803    32.0   228.0   335.0   \n",
              "TaxiIn                 0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "TaxiOut                0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "Cancelled          43773.0     0.017020    0.129346     0.0     0.0     0.0   \n",
              "CancellationCode       0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "Diverted           43773.0     0.004112    0.063995     0.0     0.0     0.0   \n",
              "CarrierDelay           0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "WeatherDelay           0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "NASDelay               0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "SecurityDelay          0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "LateAircraftDelay      0.0          NaN         NaN     NaN     NaN     NaN   \n",
              "\n",
              "                      75%     max  \n",
              "Year               1990.0  1990.0  \n",
              "Month                 1.0     1.0  \n",
              "DayofMonth           24.0    31.0  \n",
              "DayOfWeek             5.0     7.0  \n",
              "DepTime            1814.0  2400.0  \n",
              "CRSDepTime         1805.0  2359.0  \n",
              "ArrTime            1927.0  2400.0  \n",
              "CRSArrTime         1920.0  2359.0  \n",
              "FlightNum           707.0  1175.0  \n",
              "TailNum               NaN     NaN  \n",
              "ActualElapsedTime   103.0   406.0  \n",
              "CRSElapsedTime       99.0   363.0  \n",
              "AirTime               NaN     NaN  \n",
              "ArrDelay             15.0   534.0  \n",
              "DepDelay             10.0   543.0  \n",
              "Distance            529.0  2401.0  \n",
              "TaxiIn                NaN     NaN  \n",
              "TaxiOut               NaN     NaN  \n",
              "Cancelled             0.0     1.0  \n",
              "CancellationCode      NaN     NaN  \n",
              "Diverted              0.0     1.0  \n",
              "CarrierDelay          NaN     NaN  \n",
              "WeatherDelay          NaN     NaN  \n",
              "NASDelay              NaN     NaN  \n",
              "SecurityDelay         NaN     NaN  \n",
              "LateAircraftDelay     NaN     NaN  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-1f212cff-d123-4ae5-aa86-46c52cf47fb7\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>count</th>\n",
              "      <th>mean</th>\n",
              "      <th>std</th>\n",
              "      <th>min</th>\n",
              "      <th>25%</th>\n",
              "      <th>50%</th>\n",
              "      <th>75%</th>\n",
              "      <th>max</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Year</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>1990.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>1990.0</td>\n",
              "      <td>1990.0</td>\n",
              "      <td>1990.0</td>\n",
              "      <td>1990.0</td>\n",
              "      <td>1990.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Month</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>1.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DayofMonth</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>16.053708</td>\n",
              "      <td>8.952210</td>\n",
              "      <td>1.0</td>\n",
              "      <td>8.0</td>\n",
              "      <td>16.0</td>\n",
              "      <td>24.0</td>\n",
              "      <td>31.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DayOfWeek</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>3.766528</td>\n",
              "      <td>1.996661</td>\n",
              "      <td>1.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>4.0</td>\n",
              "      <td>5.0</td>\n",
              "      <td>7.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DepTime</th>\n",
              "      <td>43029.0</td>\n",
              "      <td>1398.579377</td>\n",
              "      <td>485.828309</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1000.0</td>\n",
              "      <td>1358.0</td>\n",
              "      <td>1814.0</td>\n",
              "      <td>2400.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSDepTime</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>1390.037785</td>\n",
              "      <td>477.906913</td>\n",
              "      <td>50.0</td>\n",
              "      <td>950.0</td>\n",
              "      <td>1350.0</td>\n",
              "      <td>1805.0</td>\n",
              "      <td>2359.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ArrTime</th>\n",
              "      <td>42849.0</td>\n",
              "      <td>1504.454316</td>\n",
              "      <td>494.835169</td>\n",
              "      <td>1.0</td>\n",
              "      <td>1120.0</td>\n",
              "      <td>1518.0</td>\n",
              "      <td>1927.0</td>\n",
              "      <td>2400.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSArrTime</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>1497.247361</td>\n",
              "      <td>484.268026</td>\n",
              "      <td>9.0</td>\n",
              "      <td>1117.0</td>\n",
              "      <td>1513.0</td>\n",
              "      <td>1920.0</td>\n",
              "      <td>2359.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>FlightNum</th>\n",
              "      <td>43774.0</td>\n",
              "      <td>509.471170</td>\n",
              "      <td>335.763252</td>\n",
              "      <td>29.0</td>\n",
              "      <td>241.0</td>\n",
              "      <td>445.0</td>\n",
              "      <td>707.0</td>\n",
              "      <td>1175.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TailNum</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <td>42849.0</td>\n",
              "      <td>92.066093</td>\n",
              "      <td>56.941586</td>\n",
              "      <td>9.0</td>\n",
              "      <td>58.0</td>\n",
              "      <td>75.0</td>\n",
              "      <td>103.0</td>\n",
              "      <td>406.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <td>43773.0</td>\n",
              "      <td>91.435725</td>\n",
              "      <td>56.637855</td>\n",
              "      <td>20.0</td>\n",
              "      <td>58.0</td>\n",
              "      <td>74.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>363.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>AirTime</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ArrDelay</th>\n",
              "      <td>42848.0</td>\n",
              "      <td>9.808439</td>\n",
              "      <td>25.017290</td>\n",
              "      <td>-59.0</td>\n",
              "      <td>-4.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>15.0</td>\n",
              "      <td>534.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DepDelay</th>\n",
              "      <td>43028.0</td>\n",
              "      <td>9.601306</td>\n",
              "      <td>22.818885</td>\n",
              "      <td>-29.0</td>\n",
              "      <td>-1.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>10.0</td>\n",
              "      <td>543.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Distance</th>\n",
              "      <td>43483.0</td>\n",
              "      <td>488.109951</td>\n",
              "      <td>451.288803</td>\n",
              "      <td>32.0</td>\n",
              "      <td>228.0</td>\n",
              "      <td>335.0</td>\n",
              "      <td>529.0</td>\n",
              "      <td>2401.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TaxiIn</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TaxiOut</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Cancelled</th>\n",
              "      <td>43773.0</td>\n",
              "      <td>0.017020</td>\n",
              "      <td>0.129346</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>1.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CancellationCode</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Diverted</th>\n",
              "      <td>43773.0</td>\n",
              "      <td>0.004112</td>\n",
              "      <td>0.063995</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>1.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CarrierDelay</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>WeatherDelay</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>NASDelay</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>SecurityDelay</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>LateAircraftDelay</th>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1f212cff-d123-4ae5-aa86-46c52cf47fb7')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-1f212cff-d123-4ae5-aa86-46c52cf47fb7 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-1f212cff-d123-4ae5-aa86-46c52cf47fb7');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-a10373da-e1a3-4634-a3de-ed791419f771\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-a10373da-e1a3-4634-a3de-ed791419f771')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-a10373da-e1a3-4634-a3de-ed791419f771 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"df_1990\",\n  \"rows\": 26,\n  \"fields\": [\n    {\n      \"column\": \"count\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 21578.839844946393,\n        \"min\": 0.0,\n        \"max\": 43774.0,\n        \"num_unique_values\": 8,\n        \"samples\": [\n          43029.0,\n          42848.0,\n          43774.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"mean\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 721.3049400653446,\n        \"min\": 0.0041121239120005485,\n        \"max\": 1990.0,\n        \"num_unique_values\": 16,\n        \"samples\": [\n          1990.0,\n          1.0,\n          1390.0377849865217\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"std\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 222.31630574185164,\n        \"min\": 0.0,\n        \"max\": 494.8351687306221,\n        \"num_unique_values\": 15,\n        \"samples\": [\n          56.637855041544455,\n          22.81888470569986,\n          0.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"min\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 497.00154258647257,\n        \"min\": -59.0,\n        \"max\": 1990.0,\n        \"num_unique_values\": 10,\n        \"samples\": [\n          32.0,\n          1.0,\n          20.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"25%\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 612.0296289124136,\n        \"min\": -4.0,\n        \"max\": 1990.0,\n        \"num_unique_values\": 14,\n        \"samples\": [\n          58.0,\n          -1.0,\n          1990.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"50%\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 722.4335263538093,\n        \"min\": 0.0,\n        \"max\": 1990.0,\n        \"num_unique_values\": 15,\n        \"samples\": [\n          75.0,\n          3.0,\n          1990.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"75%\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 864.7519658838597,\n        \"min\": 0.0,\n        \"max\": 1990.0,\n        \"num_unique_values\": 15,\n        \"samples\": [\n          103.0,\n          15.0,\n          1990.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"max\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1052.9952021891331,\n        \"min\": 1.0,\n        \"max\": 2401.0,\n        \"num_unique_values\": 12,\n        \"samples\": [\n          543.0,\n          534.0,\n          1990.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 11
        }
      ],
      "source": [
        "df_1990.describe().T"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "a27182f0",
      "metadata": {
        "id": "a27182f0"
      },
      "source": [
        "The data seems coherent with the description :it's the data of year 1990 , times are well within the range (0001;2400)...\n",
        "However there is a problem with the minmal value of \"ActualElapsedTime\" and \"CRSElapsedTime\" : a negative value expressing time duration seems not logical thus we will see how much of this data we have"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "defa6335",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "defa6335",
        "outputId": "718fb0d0-117c-43a4-b897-decba08176ed"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(0, 29)"
            ]
          },
          "metadata": {},
          "execution_count": 12
        }
      ],
      "source": [
        "df_1990[((df_1990['CRSElapsedTime']<=0) | (df_1990['ActualElapsedTime']<=0) )].shape"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "303c9c9b",
      "metadata": {
        "id": "303c9c9b"
      },
      "source": [
        "the number of flawed data is small comapred to the population so it wouldn't be harmful to delete those lines if necessary\n",
        "\n",
        "now we will inspect our categorical data"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "9c5521e2",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 143
        },
        "id": "9c5521e2",
        "outputId": "68dfb10e-96ff-4c32-e397-308f6bc6c101"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "               count unique  top   freq\n",
              "UniqueCarrier  43774      1   US  43774\n",
              "Origin         43773    116  PIT   6678\n",
              "Dest           43773    114  PIT   6910"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-f64f5c2a-4876-4213-ae79-dcf3a9f22511\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>count</th>\n",
              "      <th>unique</th>\n",
              "      <th>top</th>\n",
              "      <th>freq</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <td>43774</td>\n",
              "      <td>1</td>\n",
              "      <td>US</td>\n",
              "      <td>43774</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Origin</th>\n",
              "      <td>43773</td>\n",
              "      <td>116</td>\n",
              "      <td>PIT</td>\n",
              "      <td>6678</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Dest</th>\n",
              "      <td>43773</td>\n",
              "      <td>114</td>\n",
              "      <td>PIT</td>\n",
              "      <td>6910</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f64f5c2a-4876-4213-ae79-dcf3a9f22511')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-f64f5c2a-4876-4213-ae79-dcf3a9f22511 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-f64f5c2a-4876-4213-ae79-dcf3a9f22511');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-75aca217-1f60-4084-817d-33584d77b5f0\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-75aca217-1f60-4084-817d-33584d77b5f0')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-75aca217-1f60-4084-817d-33584d77b5f0 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"df_1990\",\n  \"rows\": 3,\n  \"fields\": [\n    {\n      \"column\": \"count\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"43773\",\n        \"max\": \"43774\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"43773\",\n          \"43774\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"unique\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": 1,\n        \"max\": 116,\n        \"num_unique_values\": 3,\n        \"samples\": [\n          1,\n          116\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"top\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"PIT\",\n          \"US\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"freq\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"6678\",\n        \"max\": \"43774\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"43774\",\n          \"6678\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 13
        }
      ],
      "source": [
        "df_1990.describe(include=object).T"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "23f80a14",
      "metadata": {
        "id": "23f80a14"
      },
      "source": [
        "this tells us that most flights are from ATL (Hartsfield-Jackson Atlanta International Airport)  to ORD (O'Hare International Airport)"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "877efd4b",
      "metadata": {
        "id": "877efd4b"
      },
      "source": [
        "## Best Time and Day of Week to minimize delays\n",
        "(a) What are the best times and days of the week to minimise delays each year?\n",
        "in order to answer this question we start by creating a table containing each day with its corresponding mean delay"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "797cc01b",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 300
        },
        "id": "797cc01b",
        "outputId": "ea44faff-3998-495e-e25f-60089055806d"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                 DepDelay   ArrDelay\n",
              "Year DayOfWeek                      \n",
              "1990 1          15.895056  17.164485\n",
              "     2          11.280394  10.683659\n",
              "     3           7.568163   7.469238\n",
              "     4          11.932282  14.286070\n",
              "     5           9.096684  10.033403\n",
              "     6           4.403128   3.402745\n",
              "     7           5.139081   3.616356"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-e2c56794-66fa-4dda-bf6c-caa934624fb9\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>ArrDelay</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Year</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th rowspan=\"7\" valign=\"top\">1990</th>\n",
              "      <th>1</th>\n",
              "      <td>15.895056</td>\n",
              "      <td>17.164485</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>11.280394</td>\n",
              "      <td>10.683659</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>7.568163</td>\n",
              "      <td>7.469238</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>11.932282</td>\n",
              "      <td>14.286070</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>9.096684</td>\n",
              "      <td>10.033403</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>4.403128</td>\n",
              "      <td>3.402745</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>5.139081</td>\n",
              "      <td>3.616356</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e2c56794-66fa-4dda-bf6c-caa934624fb9')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-e2c56794-66fa-4dda-bf6c-caa934624fb9 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-e2c56794-66fa-4dda-bf6c-caa934624fb9');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-5a7e7f9b-1cb6-4cba-ae08-3d4afaffcb9c\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-5a7e7f9b-1cb6-4cba-ae08-3d4afaffcb9c')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-5a7e7f9b-1cb6-4cba-ae08-3d4afaffcb9c button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"df_1990\",\n  \"rows\": 7,\n  \"fields\": [\n    {\n      \"column\": \"DepDelay\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 4.055289566961155,\n        \"min\": 4.403128054740958,\n        \"max\": 15.89505637467476,\n        \"num_unique_values\": 7,\n        \"samples\": [\n          15.89505637467476,\n          11.280393835616438,\n          4.403128054740958\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"ArrDelay\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 5.151871398723784,\n        \"min\": 3.4027450980392158,\n        \"max\": 17.164485165794066,\n        \"num_unique_values\": 7,\n        \"samples\": [\n          17.164485165794066,\n          10.68365881677197,\n          3.4027450980392158\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 14
        }
      ],
      "source": [
        "df_1990.groupby(['Year','DayOfWeek']).agg({'DepDelay':'mean', 'ArrDelay':'mean'})"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "4f4d6eab",
      "metadata": {
        "id": "4f4d6eab"
      },
      "source": [
        "### Choice of delay metric\n",
        "when looking closely at the data we find that when a plane is diverted we have NaN values for the ArrDelay (since that only happens for emergencies usually , we don't care about arrival delay anymore) and this represents a considerable part of the data so that would affect our conclusions"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "3355da99",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 443
        },
        "id": "3355da99",
        "outputId": "0983ffb2-add8-4aa5-f5f1-f442f6f07d6e"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "       Year  Month  DayofMonth  DayOfWeek  DepTime  CRSDepTime  ArrTime  \\\n",
              "104    1990      1          17          3   1859.0        1430      NaN   \n",
              "214    1990      1           5          5   1024.0         945      NaN   \n",
              "222    1990      1          13          6   1014.0         945      NaN   \n",
              "223    1990      1          14          7   1053.0         945      NaN   \n",
              "953    1990      1           4          4   1654.0        1640      NaN   \n",
              "...     ...    ...         ...        ...      ...         ...      ...   \n",
              "43012  1990      1          25          4   1616.0        1600      NaN   \n",
              "43431  1990      1          11          4   1736.0        1735      NaN   \n",
              "43548  1990      1           9          2    758.0         715      NaN   \n",
              "43724  1990      1           4          4   1650.0        1635      NaN   \n",
              "43742  1990      1          25          4   1634.0        1635      NaN   \n",
              "\n",
              "       CRSArrTime UniqueCarrier  FlightNum  TailNum  ActualElapsedTime  \\\n",
              "104          1554            US         29      NaN                NaN   \n",
              "214          1215            US         31      NaN                NaN   \n",
              "222          1215            US         31      NaN                NaN   \n",
              "223          1215            US         31      NaN                NaN   \n",
              "953          1806            US         42      NaN                NaN   \n",
              "...           ...           ...        ...      ...                ...   \n",
              "43012        1703            US       1154      NaN                NaN   \n",
              "43431        1905            US       1168      NaN                NaN   \n",
              "43548         905            US       1170      NaN                NaN   \n",
              "43724        1805            US       1174      NaN                NaN   \n",
              "43742        1805            US       1174      NaN                NaN   \n",
              "\n",
              "       CRSElapsedTime  AirTime  ArrDelay  DepDelay Origin Dest  Distance  \\\n",
              "104              84.0      NaN       NaN     269.0    PHL  CMH     405.0   \n",
              "214             330.0      NaN       NaN      39.0    PIT  SFO    2254.0   \n",
              "222             330.0      NaN       NaN      29.0    PIT  SFO    2254.0   \n",
              "223             330.0      NaN       NaN      68.0    PIT  SFO    2254.0   \n",
              "953              86.0      NaN       NaN      14.0    DAY  EWR     533.0   \n",
              "...               ...      ...       ...       ...    ...  ...       ...   \n",
              "43012            63.0      NaN       NaN      16.0    BWI  ISP     220.0   \n",
              "43431            90.0      NaN       NaN       1.0    CLT  TPA     508.0   \n",
              "43548           110.0      NaN       NaN      43.0    EWR  CLT     529.0   \n",
              "43724            90.0      NaN       NaN      15.0    PIT  ISP     375.0   \n",
              "43742            90.0      NaN       NaN      -1.0    PIT  ISP     375.0   \n",
              "\n",
              "       TaxiIn  TaxiOut  Cancelled  CancellationCode  Diverted  CarrierDelay  \\\n",
              "104       NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "214       NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "222       NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "223       NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "953       NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "...       ...      ...        ...               ...       ...           ...   \n",
              "43012     NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "43431     NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "43548     NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "43724     NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "43742     NaN      NaN        0.0               NaN       1.0           NaN   \n",
              "\n",
              "       WeatherDelay  NASDelay  SecurityDelay  LateAircraftDelay  \n",
              "104             NaN       NaN            NaN                NaN  \n",
              "214             NaN       NaN            NaN                NaN  \n",
              "222             NaN       NaN            NaN                NaN  \n",
              "223             NaN       NaN            NaN                NaN  \n",
              "953             NaN       NaN            NaN                NaN  \n",
              "...             ...       ...            ...                ...  \n",
              "43012           NaN       NaN            NaN                NaN  \n",
              "43431           NaN       NaN            NaN                NaN  \n",
              "43548           NaN       NaN            NaN                NaN  \n",
              "43724           NaN       NaN            NaN                NaN  \n",
              "43742           NaN       NaN            NaN                NaN  \n",
              "\n",
              "[180 rows x 29 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-e925038e-b525-4c36-bcd3-deb20d57ce01\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Year</th>\n",
              "      <th>Month</th>\n",
              "      <th>DayofMonth</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th>DepTime</th>\n",
              "      <th>CRSDepTime</th>\n",
              "      <th>ArrTime</th>\n",
              "      <th>CRSArrTime</th>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <th>FlightNum</th>\n",
              "      <th>TailNum</th>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>AirTime</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>Origin</th>\n",
              "      <th>Dest</th>\n",
              "      <th>Distance</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>TaxiOut</th>\n",
              "      <th>Cancelled</th>\n",
              "      <th>CancellationCode</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>CarrierDelay</th>\n",
              "      <th>WeatherDelay</th>\n",
              "      <th>NASDelay</th>\n",
              "      <th>SecurityDelay</th>\n",
              "      <th>LateAircraftDelay</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>104</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>17</td>\n",
              "      <td>3</td>\n",
              "      <td>1859.0</td>\n",
              "      <td>1430</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1554</td>\n",
              "      <td>US</td>\n",
              "      <td>29</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>84.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>269.0</td>\n",
              "      <td>PHL</td>\n",
              "      <td>CMH</td>\n",
              "      <td>405.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>214</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>5</td>\n",
              "      <td>5</td>\n",
              "      <td>1024.0</td>\n",
              "      <td>945</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1215</td>\n",
              "      <td>US</td>\n",
              "      <td>31</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>330.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>39.0</td>\n",
              "      <td>PIT</td>\n",
              "      <td>SFO</td>\n",
              "      <td>2254.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>222</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>13</td>\n",
              "      <td>6</td>\n",
              "      <td>1014.0</td>\n",
              "      <td>945</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1215</td>\n",
              "      <td>US</td>\n",
              "      <td>31</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>330.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>29.0</td>\n",
              "      <td>PIT</td>\n",
              "      <td>SFO</td>\n",
              "      <td>2254.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>223</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>14</td>\n",
              "      <td>7</td>\n",
              "      <td>1053.0</td>\n",
              "      <td>945</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1215</td>\n",
              "      <td>US</td>\n",
              "      <td>31</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>330.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>68.0</td>\n",
              "      <td>PIT</td>\n",
              "      <td>SFO</td>\n",
              "      <td>2254.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>953</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>4</td>\n",
              "      <td>4</td>\n",
              "      <td>1654.0</td>\n",
              "      <td>1640</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1806</td>\n",
              "      <td>US</td>\n",
              "      <td>42</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>86.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>14.0</td>\n",
              "      <td>DAY</td>\n",
              "      <td>EWR</td>\n",
              "      <td>533.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>43012</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>25</td>\n",
              "      <td>4</td>\n",
              "      <td>1616.0</td>\n",
              "      <td>1600</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1703</td>\n",
              "      <td>US</td>\n",
              "      <td>1154</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>63.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>16.0</td>\n",
              "      <td>BWI</td>\n",
              "      <td>ISP</td>\n",
              "      <td>220.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>43431</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>11</td>\n",
              "      <td>4</td>\n",
              "      <td>1736.0</td>\n",
              "      <td>1735</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1905</td>\n",
              "      <td>US</td>\n",
              "      <td>1168</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>90.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>CLT</td>\n",
              "      <td>TPA</td>\n",
              "      <td>508.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>43548</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>9</td>\n",
              "      <td>2</td>\n",
              "      <td>758.0</td>\n",
              "      <td>715</td>\n",
              "      <td>NaN</td>\n",
              "      <td>905</td>\n",
              "      <td>US</td>\n",
              "      <td>1170</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>110.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>43.0</td>\n",
              "      <td>EWR</td>\n",
              "      <td>CLT</td>\n",
              "      <td>529.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>43724</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>4</td>\n",
              "      <td>4</td>\n",
              "      <td>1650.0</td>\n",
              "      <td>1635</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1805</td>\n",
              "      <td>US</td>\n",
              "      <td>1174</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>90.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>15.0</td>\n",
              "      <td>PIT</td>\n",
              "      <td>ISP</td>\n",
              "      <td>375.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>43742</th>\n",
              "      <td>1990</td>\n",
              "      <td>1</td>\n",
              "      <td>25</td>\n",
              "      <td>4</td>\n",
              "      <td>1634.0</td>\n",
              "      <td>1635</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1805</td>\n",
              "      <td>US</td>\n",
              "      <td>1174</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>90.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>-1.0</td>\n",
              "      <td>PIT</td>\n",
              "      <td>ISP</td>\n",
              "      <td>375.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>180 rows  29 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e925038e-b525-4c36-bcd3-deb20d57ce01')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-e925038e-b525-4c36-bcd3-deb20d57ce01 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-e925038e-b525-4c36-bcd3-deb20d57ce01');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-0b7d6d1a-8c2a-47eb-a8cb-6fc747a6d064\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-0b7d6d1a-8c2a-47eb-a8cb-6fc747a6d064')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-0b7d6d1a-8c2a-47eb-a8cb-6fc747a6d064 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe"
            }
          },
          "metadata": {},
          "execution_count": 15
        }
      ],
      "source": [
        "df_1990[(df_1990['Diverted']==1)]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "45aea330",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "45aea330",
        "outputId": "16445e51-470c-432b-94c9-4956baf1793f"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(180, 29)"
            ]
          },
          "metadata": {},
          "execution_count": 16
        }
      ],
      "source": [
        "df_1990[(df_1990['Diverted']==1)].shape"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "b4fe6573",
      "metadata": {
        "id": "b4fe6573"
      },
      "source": [
        "Dropping NaN values wouldn't be the optimal solution and when relying only on departure time we may get biased data since we wouldn't take into consideration delay variation during the flight (delay could increase or decrease)\n",
        "Thus we decided to construct an estimator that sums departure and arrival delays and devides them by 2 and if a value is missing we use the othre one (second best estimator)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "9a9fd34e",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "9a9fd34e",
        "outputId": "2146472d-5983-49cc-d15a-3e2aa454dff8"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "0        34.5\n",
              "1        40.0\n",
              "2        -4.5\n",
              "3        -1.0\n",
              "4         1.5\n",
              "         ... \n",
              "43769     6.0\n",
              "43770     7.5\n",
              "43771     7.0\n",
              "43772     3.5\n",
              "43773     NaN\n",
              "Name: Delay, Length: 43774, dtype: float64"
            ]
          },
          "metadata": {},
          "execution_count": 17
        }
      ],
      "source": [
        "copy=df_1990.copy() # we first make a copy of the data frame\n",
        "copy['DepDelay'].fillna(copy['ArrDelay'], inplace=True) # we replace the nan values of DepDelay by values from ArrDelay\n",
        "copy['ArrDelay'].fillna(copy['DepDelay'], inplace=True) # we replace the nan values of ArrDelay by values from DepDelay\n",
        "copy[\"Delay\"] = (copy['DepDelay'] + copy['ArrDelay']) / 2 # we get the mean\n",
        "copy[\"Delay\"]"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "454388a4",
      "metadata": {
        "id": "454388a4"
      },
      "source": [
        "Now we get the more consistent response"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "9cb2ce37",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 300
        },
        "id": "9cb2ce37",
        "outputId": "e5517116-278c-457c-9196-dc12aa923870"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                    Delay\n",
              "Year DayOfWeek           \n",
              "1990 1          16.680616\n",
              "     2          11.078981\n",
              "     3           7.610729\n",
              "     4          13.150328\n",
              "     5           9.628185\n",
              "     6           3.959433\n",
              "     7           4.456070"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-6a0ae560-1fe9-474b-ae40-3ab8bc7b5e9a\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th>Delay</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Year</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th rowspan=\"7\" valign=\"top\">1990</th>\n",
              "      <th>1</th>\n",
              "      <td>16.680616</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>11.078981</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>7.610729</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>13.150328</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>9.628185</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>3.959433</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>4.456070</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-6a0ae560-1fe9-474b-ae40-3ab8bc7b5e9a')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-6a0ae560-1fe9-474b-ae40-3ab8bc7b5e9a button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-6a0ae560-1fe9-474b-ae40-3ab8bc7b5e9a');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-08e042d2-95fe-4501-812c-493c11a247a7\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-08e042d2-95fe-4501-812c-493c11a247a7')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-08e042d2-95fe-4501-812c-493c11a247a7 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_6cb5e4b3-99d9-4f89-b355-2b204efc9066\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('Delay_by_day')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_6cb5e4b3-99d9-4f89-b355-2b204efc9066 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('Delay_by_day');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "Delay_by_day",
              "summary": "{\n  \"name\": \"Delay_by_day\",\n  \"rows\": 7,\n  \"fields\": [\n    {\n      \"column\": \"Delay\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 4.602600978024566,\n        \"min\": 3.9594330400782014,\n        \"max\": 16.680615784908934,\n        \"num_unique_values\": 7,\n        \"samples\": [\n          16.680615784908934,\n          11.078981164383562,\n          3.9594330400782014\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 18
        }
      ],
      "source": [
        "Delay_by_day=copy.groupby(['Year','DayOfWeek']).agg({'Delay':'mean'})\n",
        "Delay_by_day"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "e4027d11",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "e4027d11",
        "outputId": "aeabf01e-68d1-4787-cf88-6676e5a990c0"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(1990, 6)"
            ]
          },
          "metadata": {},
          "execution_count": 19
        }
      ],
      "source": [
        "Delay_by_day[\"Delay\"].idxmin()"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "559d1464",
      "metadata": {
        "id": "559d1464"
      },
      "source": [
        "So the best day of the week to minimize delay would be Sunday\n",
        "\n",
        "### Best time"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "a1318912",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 802
        },
        "id": "a1318912",
        "outputId": "5feef34b-7bd3-46de-fea3-9e42b74b6e7e"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "           Delay\n",
              "hour            \n",
              "1.0    95.214286\n",
              "2.0   242.250000\n",
              "3.0   215.000000\n",
              "5.0    -2.103448\n",
              "6.0     1.087397\n",
              "7.0     5.076574\n",
              "8.0     6.001245\n",
              "9.0    10.126234\n",
              "10.0    9.583667\n",
              "11.0    8.547931\n",
              "12.0    8.387891\n",
              "13.0    8.268107\n",
              "14.0   10.394636\n",
              "15.0    9.216742\n",
              "16.0   11.121851\n",
              "17.0    9.896668\n",
              "18.0   12.518505\n",
              "19.0   12.668519\n",
              "20.0   13.079282\n",
              "21.0   12.356555\n",
              "22.0   17.640462\n",
              "23.0   19.410684\n",
              "24.0   28.000000"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-0aff49e5-12b4-4c67-9346-d917b43a19d9\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Delay</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>hour</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1.0</th>\n",
              "      <td>95.214286</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2.0</th>\n",
              "      <td>242.250000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3.0</th>\n",
              "      <td>215.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5.0</th>\n",
              "      <td>-2.103448</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6.0</th>\n",
              "      <td>1.087397</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7.0</th>\n",
              "      <td>5.076574</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>8.0</th>\n",
              "      <td>6.001245</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>9.0</th>\n",
              "      <td>10.126234</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>10.0</th>\n",
              "      <td>9.583667</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11.0</th>\n",
              "      <td>8.547931</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12.0</th>\n",
              "      <td>8.387891</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>13.0</th>\n",
              "      <td>8.268107</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>14.0</th>\n",
              "      <td>10.394636</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>15.0</th>\n",
              "      <td>9.216742</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>16.0</th>\n",
              "      <td>11.121851</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>17.0</th>\n",
              "      <td>9.896668</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>18.0</th>\n",
              "      <td>12.518505</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>19.0</th>\n",
              "      <td>12.668519</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>20.0</th>\n",
              "      <td>13.079282</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>21.0</th>\n",
              "      <td>12.356555</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>22.0</th>\n",
              "      <td>17.640462</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>23.0</th>\n",
              "      <td>19.410684</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>24.0</th>\n",
              "      <td>28.000000</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0aff49e5-12b4-4c67-9346-d917b43a19d9')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-0aff49e5-12b4-4c67-9346-d917b43a19d9 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-0aff49e5-12b4-4c67-9346-d917b43a19d9');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-775b2e34-4950-42ed-b682-7c1817fbeec0\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-775b2e34-4950-42ed-b682-7c1817fbeec0')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-775b2e34-4950-42ed-b682-7c1817fbeec0 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_b9d7fb63-b039-4985-bc3f-5942465717d4\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('grouped_by_hour')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_b9d7fb63-b039-4985-bc3f-5942465717d4 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('grouped_by_hour');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "grouped_by_hour",
              "summary": "{\n  \"name\": \"grouped_by_hour\",\n  \"rows\": 23,\n  \"fields\": [\n    {\n      \"column\": \"hour\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 6.988980598225433,\n        \"min\": 1.0,\n        \"max\": 24.0,\n        \"num_unique_values\": 23,\n        \"samples\": [\n          17.0,\n          11.0,\n          1.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Delay\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 64.53183638101095,\n        \"min\": -2.103448275862069,\n        \"max\": 242.25,\n        \"num_unique_values\": 23,\n        \"samples\": [\n          9.896667914638712,\n          8.547930743243244,\n          95.21428571428571\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 20
        }
      ],
      "source": [
        "copy2 = df_1990.copy() # we start by making a copy of the data frame\n",
        "\n",
        "copy2 = copy2.dropna(subset=['DepTime']) # we drop the NaN values\n",
        "\n",
        "\n",
        "# we use the same technique for the calculation of the matric as before\n",
        "\n",
        "copy2['DepDelay'].fillna(copy2['ArrDelay'], inplace=True) # we replace the nan values of DepDelay by values from ArrDelay\n",
        "copy2['ArrDelay'].fillna(copy2['DepDelay'], inplace=True) # we replace the nan values of ArrDelay by values from DepDelay\n",
        "copy2[\"Delay\"] = (copy2['DepDelay'] + copy2['ArrDelay']) / 2 # we get the mean\n",
        "\n",
        "\n",
        "\n",
        "# This part is for data manipulation\n",
        "\n",
        "copy2['DepTime'] = copy2['DepTime'].astype(str) # we convert the column's type into string\n",
        "copy2['DepTime'] = copy2['DepTime'].str.split('.').str[0] # we do this to get rid of the decimal part\n",
        "\n",
        "\n",
        "# Define a function to extract hour information\n",
        "def extract_hour(time_str):\n",
        "    if len(time_str) == 3 and time_str[:2].isdigit():\n",
        "        return int(time_str[:1])\n",
        "    elif len(time_str) == 4 and time_str[:2].isdigit():\n",
        "        return int(time_str[:2])\n",
        "    else:\n",
        "        return None\n",
        "\n",
        "# Apply the function to 'DepTime' column to extract hour\n",
        "copy2['hour'] = copy2['DepTime'].apply(extract_hour)\n",
        "\n",
        "\n",
        "# Group by hour\n",
        "grouped_by_hour = copy2.groupby('hour').agg({'Delay':'mean'})\n",
        "\n",
        "grouped_by_hour"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "af6d3e13",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "af6d3e13",
        "outputId": "d9d512cc-9b87-4799-c810-b227bcb34771"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "5.0"
            ]
          },
          "metadata": {},
          "execution_count": 21
        }
      ],
      "source": [
        "grouped_by_hour[\"Delay\"].idxmin()"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "6958cd08",
      "metadata": {
        "id": "6958cd08"
      },
      "source": [
        "So the best time of the day to minimize delay would be earlier in the morning (around 5 and 6 )\n",
        "\n",
        "##  Age of planes and delays relationship\n",
        "\n",
        "We will start by uploading the palnes file"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "6ddeab86",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 293
        },
        "id": "6ddeab86",
        "outputId": "fc9d2418-0eeb-459b-c7c6-5c8183252139"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "     tailnum                 type                   manufacturer  issue_date  \\\n",
              "5024  N997DL          Corporation  MCDONNELL DOUGLAS AIRCRAFT CO  03/11/1992   \n",
              "5025  N998AT          Corporation                         BOEING  01/23/2003   \n",
              "5026  N998DL          Corporation  MCDONNELL DOUGLAS CORPORATION  04/02/1992   \n",
              "5027  N999CA  Foreign Corporation                       CANADAIR  07/09/2008   \n",
              "5028  N999DN          Corporation  MCDONNELL DOUGLAS CORPORATION  04/02/1992   \n",
              "\n",
              "            model status            aircraft_type engine_type    year  \n",
              "5024        MD-88  Valid  Fixed Wing Multi-Engine   Turbo-Fan  1992.0  \n",
              "5025      717-200  Valid  Fixed Wing Multi-Engine   Turbo-Fan  2002.0  \n",
              "5026        MD-88  Valid  Fixed Wing Multi-Engine   Turbo-Jet  1992.0  \n",
              "5027  CL-600-2B19  Valid  Fixed Wing Multi-Engine   Turbo-Jet  1998.0  \n",
              "5028        MD-88  Valid  Fixed Wing Multi-Engine   Turbo-Jet  1992.0  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-0114e3fb-2031-4632-be43-5e5e20ac0612\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>tailnum</th>\n",
              "      <th>type</th>\n",
              "      <th>manufacturer</th>\n",
              "      <th>issue_date</th>\n",
              "      <th>model</th>\n",
              "      <th>status</th>\n",
              "      <th>aircraft_type</th>\n",
              "      <th>engine_type</th>\n",
              "      <th>year</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>5024</th>\n",
              "      <td>N997DL</td>\n",
              "      <td>Corporation</td>\n",
              "      <td>MCDONNELL DOUGLAS AIRCRAFT CO</td>\n",
              "      <td>03/11/1992</td>\n",
              "      <td>MD-88</td>\n",
              "      <td>Valid</td>\n",
              "      <td>Fixed Wing Multi-Engine</td>\n",
              "      <td>Turbo-Fan</td>\n",
              "      <td>1992.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5025</th>\n",
              "      <td>N998AT</td>\n",
              "      <td>Corporation</td>\n",
              "      <td>BOEING</td>\n",
              "      <td>01/23/2003</td>\n",
              "      <td>717-200</td>\n",
              "      <td>Valid</td>\n",
              "      <td>Fixed Wing Multi-Engine</td>\n",
              "      <td>Turbo-Fan</td>\n",
              "      <td>2002.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5026</th>\n",
              "      <td>N998DL</td>\n",
              "      <td>Corporation</td>\n",
              "      <td>MCDONNELL DOUGLAS CORPORATION</td>\n",
              "      <td>04/02/1992</td>\n",
              "      <td>MD-88</td>\n",
              "      <td>Valid</td>\n",
              "      <td>Fixed Wing Multi-Engine</td>\n",
              "      <td>Turbo-Jet</td>\n",
              "      <td>1992.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5027</th>\n",
              "      <td>N999CA</td>\n",
              "      <td>Foreign Corporation</td>\n",
              "      <td>CANADAIR</td>\n",
              "      <td>07/09/2008</td>\n",
              "      <td>CL-600-2B19</td>\n",
              "      <td>Valid</td>\n",
              "      <td>Fixed Wing Multi-Engine</td>\n",
              "      <td>Turbo-Jet</td>\n",
              "      <td>1998.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5028</th>\n",
              "      <td>N999DN</td>\n",
              "      <td>Corporation</td>\n",
              "      <td>MCDONNELL DOUGLAS CORPORATION</td>\n",
              "      <td>04/02/1992</td>\n",
              "      <td>MD-88</td>\n",
              "      <td>Valid</td>\n",
              "      <td>Fixed Wing Multi-Engine</td>\n",
              "      <td>Turbo-Jet</td>\n",
              "      <td>1992.0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0114e3fb-2031-4632-be43-5e5e20ac0612')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-0114e3fb-2031-4632-be43-5e5e20ac0612 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-0114e3fb-2031-4632-be43-5e5e20ac0612');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-d49502ec-08fd-436f-9d8e-5b4d9c49a95b\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-d49502ec-08fd-436f-9d8e-5b4d9c49a95b')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-d49502ec-08fd-436f-9d8e-5b4d9c49a95b button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "repr_error": "0"
            }
          },
          "metadata": {},
          "execution_count": 24
        }
      ],
      "source": [
        "Planes=pd.read_csv('plane-data.csv')\n",
        "Planes.tail()"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "7a71f81b",
      "metadata": {
        "id": "7a71f81b"
      },
      "source": [
        "We need to put the data we need in the same row in order to calculate a correlation coefficient and see how true that assumption is"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "5e344031",
      "metadata": {
        "id": "5e344031"
      },
      "outputs": [],
      "source": [
        "df_1995=pd.read_csv('1995.csv')\n",
        "copy3 = df_1995.copy() # we prepare a copy\n",
        "\n",
        "copy3['TailNum'] = copy3['TailNum'].astype(str) # we convert this column type into an object\n",
        "\n",
        "# we merge the columns containing year and the copy based on the tailnum\n",
        "age_df=pd.merge(copy3, Planes[['tailnum','year']], left_on='TailNum',right_on='tailnum', how='left' )\n",
        "\n",
        "\n",
        "age_df['age'] = 2008 - age_df['year'] # we add a coulumn containing the age"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "We then prepare our delay metric"
      ],
      "metadata": {
        "id": "UKAzcFjGoj4D"
      },
      "id": "UKAzcFjGoj4D"
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "8499f49b",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "8499f49b",
        "outputId": "cbad8b84-22bf-4a6f-8fe0-54088e7bd3db"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "0         13.5\n",
              "1          2.0\n",
              "2         -0.5\n",
              "3         -4.5\n",
              "4         -3.0\n",
              "          ... \n",
              "105694    -4.0\n",
              "105695     4.5\n",
              "105696     6.5\n",
              "105697     1.0\n",
              "105698    14.0\n",
              "Name: Delay, Length: 105699, dtype: float64"
            ]
          },
          "metadata": {},
          "execution_count": 30
        }
      ],
      "source": [
        "age_df['DepDelay'].fillna(age_df['ArrDelay'], inplace=True) # we replace the nan values of DepDelay by values from ArrDelay\n",
        "age_df['ArrDelay'].fillna(age_df['DepDelay'], inplace=True) # we replace the nan values of ArrDelay by values from DepDelay\n",
        "age_df[\"Delay\"] = (age_df['DepDelay'] + age_df['ArrDelay']) / 2 # we get the mean\n",
        "age_df[\"Delay\"]"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "d131da64",
      "metadata": {
        "id": "d131da64"
      },
      "source": [
        "Then we make a new data frame containing the two variables we're intersted in"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "46ddc635",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000
        },
        "id": "46ddc635",
        "outputId": "bd8f3540-2d4f-4fed-e10a-407d9bacdbb8"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "     age      Delay\n",
              "0    1.0  20.500000\n",
              "1    7.0   8.250000\n",
              "2    8.0   7.868056\n",
              "3   10.0  14.711538\n",
              "4   11.0  25.625000\n",
              "5   12.0  13.735294\n",
              "6   14.0   8.709737\n",
              "7   15.0   9.411626\n",
              "8   16.0   8.824840\n",
              "9   17.0   8.387938\n",
              "10  18.0  10.774166\n",
              "11  19.0  10.509485\n",
              "12  20.0  10.439075\n",
              "13  21.0  11.542401\n",
              "14  22.0  11.245473\n",
              "15  23.0  13.989562\n",
              "16  24.0  12.228992\n",
              "17  25.0  19.457692\n",
              "18  26.0  10.371429\n",
              "19  28.0  14.370000\n",
              "20  29.0   8.631148\n",
              "21  30.0  15.857955\n",
              "22  31.0   6.767857\n",
              "23  32.0  20.774336\n",
              "24  33.0   9.232824\n",
              "25  34.0   0.782609\n",
              "26  35.0   7.470588\n",
              "27  36.0   3.333333\n",
              "28  37.0  35.305556\n",
              "29  38.0   3.709677\n",
              "30  39.0  11.395833\n",
              "31  40.0   9.441288\n",
              "32  41.0   9.211009\n",
              "33  44.0   7.666667\n",
              "34  45.0  13.312500\n",
              "35  46.0  16.714286\n",
              "36  49.0   8.862745\n",
              "37  52.0   0.333333"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-10f06968-7e49-4e79-8f84-7fb2ad43fffd\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>age</th>\n",
              "      <th>Delay</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1.0</td>\n",
              "      <td>20.500000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>7.0</td>\n",
              "      <td>8.250000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>8.0</td>\n",
              "      <td>7.868056</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>10.0</td>\n",
              "      <td>14.711538</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>11.0</td>\n",
              "      <td>25.625000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>12.0</td>\n",
              "      <td>13.735294</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>14.0</td>\n",
              "      <td>8.709737</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>15.0</td>\n",
              "      <td>9.411626</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>8</th>\n",
              "      <td>16.0</td>\n",
              "      <td>8.824840</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>9</th>\n",
              "      <td>17.0</td>\n",
              "      <td>8.387938</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>10</th>\n",
              "      <td>18.0</td>\n",
              "      <td>10.774166</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11</th>\n",
              "      <td>19.0</td>\n",
              "      <td>10.509485</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12</th>\n",
              "      <td>20.0</td>\n",
              "      <td>10.439075</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>13</th>\n",
              "      <td>21.0</td>\n",
              "      <td>11.542401</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>14</th>\n",
              "      <td>22.0</td>\n",
              "      <td>11.245473</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>15</th>\n",
              "      <td>23.0</td>\n",
              "      <td>13.989562</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>16</th>\n",
              "      <td>24.0</td>\n",
              "      <td>12.228992</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>17</th>\n",
              "      <td>25.0</td>\n",
              "      <td>19.457692</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>18</th>\n",
              "      <td>26.0</td>\n",
              "      <td>10.371429</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>19</th>\n",
              "      <td>28.0</td>\n",
              "      <td>14.370000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>20</th>\n",
              "      <td>29.0</td>\n",
              "      <td>8.631148</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>21</th>\n",
              "      <td>30.0</td>\n",
              "      <td>15.857955</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>22</th>\n",
              "      <td>31.0</td>\n",
              "      <td>6.767857</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>23</th>\n",
              "      <td>32.0</td>\n",
              "      <td>20.774336</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>24</th>\n",
              "      <td>33.0</td>\n",
              "      <td>9.232824</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>25</th>\n",
              "      <td>34.0</td>\n",
              "      <td>0.782609</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>26</th>\n",
              "      <td>35.0</td>\n",
              "      <td>7.470588</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>27</th>\n",
              "      <td>36.0</td>\n",
              "      <td>3.333333</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>28</th>\n",
              "      <td>37.0</td>\n",
              "      <td>35.305556</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>29</th>\n",
              "      <td>38.0</td>\n",
              "      <td>3.709677</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>30</th>\n",
              "      <td>39.0</td>\n",
              "      <td>11.395833</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>31</th>\n",
              "      <td>40.0</td>\n",
              "      <td>9.441288</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>32</th>\n",
              "      <td>41.0</td>\n",
              "      <td>9.211009</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>33</th>\n",
              "      <td>44.0</td>\n",
              "      <td>7.666667</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>34</th>\n",
              "      <td>45.0</td>\n",
              "      <td>13.312500</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>35</th>\n",
              "      <td>46.0</td>\n",
              "      <td>16.714286</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>36</th>\n",
              "      <td>49.0</td>\n",
              "      <td>8.862745</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>37</th>\n",
              "      <td>52.0</td>\n",
              "      <td>0.333333</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-10f06968-7e49-4e79-8f84-7fb2ad43fffd')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-10f06968-7e49-4e79-8f84-7fb2ad43fffd button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-10f06968-7e49-4e79-8f84-7fb2ad43fffd');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-adfd985c-f11c-40b0-b9f0-f4c77ca49d95\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-adfd985c-f11c-40b0-b9f0-f4c77ca49d95')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-adfd985c-f11c-40b0-b9f0-f4c77ca49d95 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_4de1eb6f-1fa2-46f5-8d7d-df7d8726a8d4\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('grouped_by_age')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_4de1eb6f-1fa2-46f5-8d7d-df7d8726a8d4 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('grouped_by_age');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "grouped_by_age",
              "summary": "{\n  \"name\": \"grouped_by_age\",\n  \"rows\": 38,\n  \"fields\": [\n    {\n      \"column\": \"age\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 12.865094969074272,\n        \"min\": 1.0,\n        \"max\": 52.0,\n        \"num_unique_values\": 38,\n        \"samples\": [\n          44.0,\n          49.0,\n          11.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Delay\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 6.540714222530641,\n        \"min\": 0.3333333333333333,\n        \"max\": 35.30555555555556,\n        \"num_unique_values\": 38,\n        \"samples\": [\n          7.666666666666667,\n          8.862745098039216,\n          25.625\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 31
        }
      ],
      "source": [
        "grouped_by_age= age_df.groupby('age').agg({'Delay':'mean'})\n",
        "grouped_by_age.reset_index(inplace=True) # we get age as a seperate column\n",
        "grouped_by_age"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "55422649",
      "metadata": {
        "id": "55422649"
      },
      "source": [
        "We plot the barplot to visualize the data"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "28aab836",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 472
        },
        "id": "28aab836",
        "outputId": "574c0275-62f7-4760-fbfe-c9129c5fd559"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<Figure size 640x480 with 1 Axes>"
            ],
            "image/png": "iVBORw0KGgoAAAANSUhEUgAAAjIAAAHHCAYAAACle7JuAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAyc0lEQVR4nO3deXgUVb7G8bdJSAcIaQyQDYIg6yiEURSIK0gkoiKRoIg6gOLGDSqLd4QZRXHEODo4LoPoFWVRNlFAUdkkEK5KkFVwAQmGRSBBQNIQoIHk3D987GubBEJI0n2S7+d56nnsOtXVvzoJ9ptTp6ocxhgjAAAAC9XwdwEAAABlRZABAADWIsgAAABrEWQAAIC1CDIAAMBaBBkAAGAtggwAALAWQQYAAFiLIAMAAKxFkAFw1pYvXy6Hw6Hly5f7uxQA1RxBBqiiJk+eLIfD4V1CQ0MVGxurpKQkvfLKKzp8+LC/S7Rex44d5XA4NGHCBH+XAlRbBBmginv66af1zjvvaMKECXrooYckSUOHDlW7du20ceNGP1dnr61bt2r16tVq2rSppk2b5u9ygGor2N8FAKhYPXr00KWXXup9PWrUKKWnp+umm27SzTffrO+//161atXyY4V2evfddxUZGalx48apT58+2r59u5o2bervsoBqhxEZoBq69tpr9cQTT2jHjh169913fdo2b96sPn36KCIiQqGhobr00kv10UcfnXGf//u//6tbb71VTZo0kdPpVFxcnIYNG6Zjx455t5k0aZIcDofWr19f5P3PPvusgoKCtHv3bkm/jnikpKQoOjpaoaGhaty4sW6//Xbl5eWVWMOQIUMUFhamo0ePFmnr16+foqOjVVBQIElas2aNkpKS1KBBA9WqVUvNmjXTPffcc8bj/M306dPVp08f3XTTTXK5XJo+fXqx2y1fvlyXXnqpQkND1bx5c73xxht66qmn5HA4imz77rvvqkOHDqpVq5YiIiJ0++23a9euXaWuCaiOCDJANfWXv/xFkrR48WLvum+//VadO3fW999/r5EjR2rcuHGqU6eOkpOTNXfu3NPub/bs2Tp69KgGDx6sV199VUlJSXr11VfVv39/7zZ9+vRRrVq1ij0VM23aNHXp0kWNGjXSiRMnlJSUpMzMTD300EMaP3687r//fv344486dOhQiTX07dtX+fn5+uSTT3zWHz16VPPnz1efPn0UFBSkffv2qXv37tq+fbtGjhypV199VXfeeacyMzNL03VatWqVsrKy1K9fP4WEhKh3797FHtP69et1/fXX68CBAxozZowGDRqkp59+WvPmzSuy7dixY9W/f3+1bNlSL774ooYOHaqlS5fq6quvPu0xA9WeAVAlTZo0yUgyq1evLnEbl8tlLr74Yu/rbt26mXbt2pnjx4971xUWFprLL7/ctGzZ0rtu2bJlRpJZtmyZd93Ro0eL7D8tLc04HA6zY8cO77p+/fqZ2NhYU1BQ4F23bt06I8lMmjTJGGPM+vXrjSQze/bsszrmwsJC06hRI5OSkuKz/r333jOSzIoVK4wxxsydO/eMfXM6Q4YMMXFxcaawsNAYY8zixYuNJLN+/Xqf7Xr27Glq165tdu/e7V23detWExwcbH7/v9/t27eboKAgM3bsWJ/3b9q0yQQHBxdZD+D/MSIDVGNhYWHeq5cOHjyo9PR03XbbbTp8+LD279+v/fv368CBA0pKStLWrVu9p32K8/t5Nvn5+dq/f78uv/xyGWN8TiX1799fe/bs0bJly7zrpk2bplq1aiklJUWS5HK5JEmLFi0q9jRRSRwOh2699VZ9+umnOnLkiHf9rFmz1KhRI1155ZWSpHr16kmSPv74Y508ebLU+5ekU6dOadasWerbt6/39NC1116ryMhIn1GZgoICffbZZ0pOTlZsbKx3fYsWLdSjRw+ffc6ZM0eFhYW67bbbvP2+f/9+RUdHq2XLlj59BcAXQQaoxo4cOaK6detKkrKysmSM0RNPPKGGDRv6LE8++aQkad++fSXua+fOnRo4cKAiIiIUFhamhg0b6pprrpEkn3kt1113nWJiYrxf+oWFhZoxY4Z69erlraVZs2YaPny4Jk6cqAYNGigpKUnjx48/7fyY3/Tt21fHjh3zzus5cuSIPv30U916663e4HHNNdcoJSVFY8aMUYMGDdSrVy9NmjRJHo/njPtfvHixfv75Z3Xs2FFZWVnKyspSdna2unbtqhkzZqiwsNDbV8eOHVOLFi2K7OOP67Zu3SpjjFq2bFmk77///vvT9jtQ3XHVElBN/fTTT8rLy/N+qf72Bfzoo48qKSmp2PcU96Us/Tr6cN111+ngwYN67LHH1KZNG9WpU0e7d+/WwIEDvfuWpKCgIN1xxx1688039dprr+mLL77Qnj17dNddd/nsc9y4cRo4cKA+/PBDLV68WA8//LDS0tKUmZmpxo0bl3hcnTt3VtOmTfXee+/pjjvu0Pz583Xs2DH17dvXu43D4dD777+vzMxMzZ8/X4sWLdI999yjcePGKTMzU2FhYSXu/7cAdttttxXbnpGRoa5du5b4/uIUFhbK4XBowYIFCgoKKtJ+unqA6o4gA1RT77zzjiR5Q8sFF1wgSapZs6YSExPPal+bNm3SDz/8oClTpvhM7l2yZEmx2/fv31/jxo3T/PnztWDBAjVs2LDY8NSuXTu1a9dOjz/+uL788ktdccUVev311/XMM8+ctp7bbrtNL7/8stxut2bNmqWmTZuqc+fORbbr3LmzOnfurLFjx2r69Om68847NXPmTN17773F7jc/P18ffvih+vbtqz59+hRpf/jhhzVt2jR17dpVkZGRCg0NVVZWVpHt/riuefPmMsaoWbNmatWq1WmPDYAvTi0B1VB6err+8Y9/qFmzZrrzzjslSZGRkerSpYveeOMN7d27t8h7fv755xL399sogjHGu84Yo5dffrnY7ePj4xUfH6+JEyfqgw8+0O23367g4P//u8rtduvUqVM+72nXrp1q1KhRqtM/ffv2lcfj0ZQpU7Rw4cIioye//PKLT62S9Oc//1mSTrv/uXPnKj8/X6mpqerTp0+R5aabbtIHH3wgj8ejoKAgJSYmat68edqzZ493H1lZWVqwYIHPfnv37q2goCCNGTOmSF3GGB04cOCMxwxUV4zIAFXcggULtHnzZp06dUq5ublKT0/XkiVLdP755+ujjz5SaGiod9vx48fryiuvVLt27XTffffpggsuUG5urlauXKmffvpJX3/9dbGf0aZNGzVv3lyPPvqodu/erfDwcH3wwQf65ZdfSqyrf//+evTRRyWpyGml9PR0DRkyRLfeeqtatWqlU6dO6Z133lFQUJB3QvDpXHLJJWrRooX+/ve/y+Px+JxWkqQpU6botdde0y233KLmzZvr8OHDevPNNxUeHq4bbrihxP1OmzZN9evX1+WXX15s+80336w333xTn3zyiXr37q2nnnpKixcv1hVXXKHBgweroKBA//nPf9S2bVtt2LDB+77mzZvrmWee0ahRo7R9+3YlJyerbt26ys7O1ty5c3X//fd7+wrAH/jteikAFeq3y69/W0JCQkx0dLS5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wsJCZWdnV86BAKgUwf4uAAB+76233tKpU6d8JvcaY+R0OvWf//ynVPs4cuSIHnjgAT388MNF2po0aVJutQLwP4IMgIBx6tQpTZ06VePGjVP37t192pKTkzVjxgy1bt1an376qU/b6tWrfV5fcskl+u6779SiRYsKrxmAfzFHBkDAmDdvnvr27at9+/bJ5XL5tD322GNKT0/Xe++9p9atW2vYsGEaNGiQNmzYoBEjRuinn37SoUOH5HK5tHHjRnXu3Fn33HOP7r33XtWpU0ffffedlixZUupRHQB2YI4MgIDx1ltvKTExsUiIkaSUlBStWbNGhw8f1vvvv685c+YoPj5eEyZM8F615HQ6JUnx8fHKyMjQDz/8oKuuukoXX3yxRo8ezb1ogCqIERkA1hs7dqxef/117dq1y9+lAKhkzJEBYJ3XXntNl112merXr68vvvhCL7zwAveIAaopggwA62zdulXPPPOMDh48qCZNmmjEiBEaNWqUv8sC4AecWgIAANZisi8AALAWQQYAAFiLIAMAAKxFkAEAANYiyAAAAGsRZAAAgLUIMgAAwFoEGQAAYC2CDAAAsNb/AfhC2xoJAnYQAAAAAElFTkSuQmCC\n"
          },
          "metadata": {}
        }
      ],
      "source": [
        "import matplotlib.pyplot as plt\n",
        "plt.bar(grouped_by_age['age'], grouped_by_age['Delay'], color='blue')\n",
        "\n",
        "# Add labels and title\n",
        "plt.xlabel('Age')\n",
        "plt.ylabel('Delays')\n",
        "plt.title('Delays vs Age')\n",
        "\n",
        "# Show the plot\n",
        "plt.show()"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "d151c667",
      "metadata": {
        "id": "d151c667"
      },
      "source": [
        "We see there is a downward tendency in the slope, this means that there is probably a negative relationship between age and delays\n",
        "A probable reason for that is that newer planes may have some issues initially when deployed where as older planes have already gone through that phase and are probably more stable and consistent as they get older"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "304c41ae",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "304c41ae",
        "outputId": "dc37d6dc-8bcd-45bd-c429-b58d9a29db61"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "r =  -0.20282337608500003 r^2 =  0.041137321886517364\n"
          ]
        }
      ],
      "source": [
        "corr_coef = grouped_by_age['Delay'].corr(grouped_by_age['age'])\n",
        "print('r = ',corr_coef, 'r^2 = ',corr_coef**2)"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "2689611e",
      "metadata": {
        "id": "2689611e"
      },
      "source": [
        "the correlation coefficient is significant , the age of the plane explains about 30% of the delays that happen"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "0c4aa627",
      "metadata": {
        "id": "0c4aa627"
      },
      "source": [
        "# Logistic regression\n",
        "\n",
        "(c) For each year, fit a logistic regression model for the probability of diverted US flights\n",
        "using as many features as possible from attributes of the departure date, the scheduled departure and arrival times, the coordinates and distance between departure\n",
        "and planned arrival airports, and the carrier. Visualize the coefficients across years."
      ]
    },
    {
      "cell_type": "markdown",
      "id": "f281c07f",
      "metadata": {
        "id": "f281c07f"
      },
      "source": [
        "First we start by exploring the relationships between \"Diverted\" and the other variables , to choose the variables we will depend on in our model"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "c2a4ae58",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 443
        },
        "id": "c2a4ae58",
        "outputId": "4724644e-dbf6-4b91-ba01-e7b9e6f81185"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        Year  Month  DayofMonth  DayOfWeek  DepTime  CRSDepTime  ArrTime  \\\n",
              "0       1995      1           6          5    657.0         645    952.0   \n",
              "1       1995      1           7          6    648.0         645    938.0   \n",
              "2       1995      1           8          7    649.0         645    932.0   \n",
              "3       1995      1           9          1    645.0         645    928.0   \n",
              "4       1995      1          10          2    645.0         645    931.0   \n",
              "...      ...    ...         ...        ...      ...         ...      ...   \n",
              "179466  1995      1          15          7    801.0         800    904.0   \n",
              "179467  1995      1          16          1    802.0         800    906.0   \n",
              "179468  1995      1          17          2    801.0         800    915.0   \n",
              "179469  1995      1          18          3    757.0         800    902.0   \n",
              "179470  1995      1          19          4    800.0         800    915.0   \n",
              "\n",
              "        CRSArrTime UniqueCarrier  FlightNum TailNum  ActualElapsedTime  \\\n",
              "0              937            UA        482  N7298U              115.0   \n",
              "1              937            UA        482  N7449U              110.0   \n",
              "2              937            UA        482  N7453U              103.0   \n",
              "3              937            UA        482  N7288U              103.0   \n",
              "4              937            UA        482  N7275U              106.0   \n",
              "...            ...           ...        ...     ...                ...   \n",
              "179466         909            AA       1678  N413AA              123.0   \n",
              "179467         909            AA       1678  N506AA              124.0   \n",
              "179468         909            AA       1678  N495AA              134.0   \n",
              "179469         909            AA       1678  N542AA              125.0   \n",
              "179470         909            AA       1678  N536AA              135.0   \n",
              "\n",
              "        CRSElapsedTime  AirTime  ArrDelay  DepDelay Origin Dest  Distance  \\\n",
              "0                112.0     83.0      15.0      12.0    ORD  PHL       678   \n",
              "1                112.0     88.0       1.0       3.0    ORD  PHL       678   \n",
              "2                112.0     83.0      -5.0       4.0    ORD  PHL       678   \n",
              "3                112.0     84.0      -9.0       0.0    ORD  PHL       678   \n",
              "4                112.0     82.0      -6.0       0.0    ORD  PHL       678   \n",
              "...                ...      ...       ...       ...    ...  ...       ...   \n",
              "179466           129.0     99.0      -5.0       1.0    MIA  MSY       674   \n",
              "179467           129.0    100.0      -3.0       2.0    MIA  MSY       674   \n",
              "179468           129.0     99.0       6.0       1.0    MIA  MSY       674   \n",
              "179469           129.0     93.0      -7.0      -3.0    MIA  MSY       674   \n",
              "179470           129.0    106.0       6.0       0.0    MIA  MSY       674   \n",
              "\n",
              "        TaxiIn  TaxiOut  Cancelled  CancellationCode  Diverted  CarrierDelay  \\\n",
              "0          7.0     25.0        0.0               NaN       0.0           NaN   \n",
              "1          5.0     17.0        0.0               NaN       0.0           NaN   \n",
              "2          3.0     17.0        0.0               NaN       0.0           NaN   \n",
              "3          3.0     16.0        0.0               NaN       0.0           NaN   \n",
              "4          6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "...        ...      ...        ...               ...       ...           ...   \n",
              "179466     5.0     19.0        0.0               NaN       0.0           NaN   \n",
              "179467     6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "179468     4.0     31.0        0.0               NaN       0.0           NaN   \n",
              "179469     6.0     26.0        0.0               NaN       0.0           NaN   \n",
              "179470     NaN      NaN        NaN               NaN       NaN           NaN   \n",
              "\n",
              "        WeatherDelay  NASDelay  SecurityDelay  LateAircraftDelay  \n",
              "0                NaN       NaN            NaN                NaN  \n",
              "1                NaN       NaN            NaN                NaN  \n",
              "2                NaN       NaN            NaN                NaN  \n",
              "3                NaN       NaN            NaN                NaN  \n",
              "4                NaN       NaN            NaN                NaN  \n",
              "...              ...       ...            ...                ...  \n",
              "179466           NaN       NaN            NaN                NaN  \n",
              "179467           NaN       NaN            NaN                NaN  \n",
              "179468           NaN       NaN            NaN                NaN  \n",
              "179469           NaN       NaN            NaN                NaN  \n",
              "179470           NaN       NaN            NaN                NaN  \n",
              "\n",
              "[179471 rows x 29 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-842c05ba-04e9-49a0-91e9-b58b27e0b847\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Year</th>\n",
              "      <th>Month</th>\n",
              "      <th>DayofMonth</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th>DepTime</th>\n",
              "      <th>CRSDepTime</th>\n",
              "      <th>ArrTime</th>\n",
              "      <th>CRSArrTime</th>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <th>FlightNum</th>\n",
              "      <th>TailNum</th>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>AirTime</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>Origin</th>\n",
              "      <th>Dest</th>\n",
              "      <th>Distance</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>TaxiOut</th>\n",
              "      <th>Cancelled</th>\n",
              "      <th>CancellationCode</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>CarrierDelay</th>\n",
              "      <th>WeatherDelay</th>\n",
              "      <th>NASDelay</th>\n",
              "      <th>SecurityDelay</th>\n",
              "      <th>LateAircraftDelay</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>6</td>\n",
              "      <td>5</td>\n",
              "      <td>657.0</td>\n",
              "      <td>645</td>\n",
              "      <td>952.0</td>\n",
              "      <td>937</td>\n",
              "      <td>UA</td>\n",
              "      <td>482</td>\n",
              "      <td>N7298U</td>\n",
              "      <td>115.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>15.0</td>\n",
              "      <td>12.0</td>\n",
              "      <td>ORD</td>\n",
              "      <td>PHL</td>\n",
              "      <td>678</td>\n",
              "      <td>7.0</td>\n",
              "      <td>25.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>7</td>\n",
              "      <td>6</td>\n",
              "      <td>648.0</td>\n",
              "      <td>645</td>\n",
              "      <td>938.0</td>\n",
              "      <td>937</td>\n",
              "      <td>UA</td>\n",
              "      <td>482</td>\n",
              "      <td>N7449U</td>\n",
              "      <td>110.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>88.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>ORD</td>\n",
              "      <td>PHL</td>\n",
              "      <td>678</td>\n",
              "      <td>5.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>8</td>\n",
              "      <td>7</td>\n",
              "      <td>649.0</td>\n",
              "      <td>645</td>\n",
              "      <td>932.0</td>\n",
              "      <td>937</td>\n",
              "      <td>UA</td>\n",
              "      <td>482</td>\n",
              "      <td>N7453U</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>4.0</td>\n",
              "      <td>ORD</td>\n",
              "      <td>PHL</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>9</td>\n",
              "      <td>1</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>928.0</td>\n",
              "      <td>937</td>\n",
              "      <td>UA</td>\n",
              "      <td>482</td>\n",
              "      <td>N7288U</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>84.0</td>\n",
              "      <td>-9.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>ORD</td>\n",
              "      <td>PHL</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>16.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>10</td>\n",
              "      <td>2</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>931.0</td>\n",
              "      <td>937</td>\n",
              "      <td>UA</td>\n",
              "      <td>482</td>\n",
              "      <td>N7275U</td>\n",
              "      <td>106.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>82.0</td>\n",
              "      <td>-6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>ORD</td>\n",
              "      <td>PHL</td>\n",
              "      <td>678</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179466</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>15</td>\n",
              "      <td>7</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>904.0</td>\n",
              "      <td>909</td>\n",
              "      <td>AA</td>\n",
              "      <td>1678</td>\n",
              "      <td>N413AA</td>\n",
              "      <td>123.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>MIA</td>\n",
              "      <td>MSY</td>\n",
              "      <td>674</td>\n",
              "      <td>5.0</td>\n",
              "      <td>19.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179467</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>16</td>\n",
              "      <td>1</td>\n",
              "      <td>802.0</td>\n",
              "      <td>800</td>\n",
              "      <td>906.0</td>\n",
              "      <td>909</td>\n",
              "      <td>AA</td>\n",
              "      <td>1678</td>\n",
              "      <td>N506AA</td>\n",
              "      <td>124.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>100.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>MIA</td>\n",
              "      <td>MSY</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179468</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>17</td>\n",
              "      <td>2</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>AA</td>\n",
              "      <td>1678</td>\n",
              "      <td>N495AA</td>\n",
              "      <td>134.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>MIA</td>\n",
              "      <td>MSY</td>\n",
              "      <td>674</td>\n",
              "      <td>4.0</td>\n",
              "      <td>31.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179469</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>18</td>\n",
              "      <td>3</td>\n",
              "      <td>757.0</td>\n",
              "      <td>800</td>\n",
              "      <td>902.0</td>\n",
              "      <td>909</td>\n",
              "      <td>AA</td>\n",
              "      <td>1678</td>\n",
              "      <td>N542AA</td>\n",
              "      <td>125.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>93.0</td>\n",
              "      <td>-7.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>MIA</td>\n",
              "      <td>MSY</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>26.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179470</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>19</td>\n",
              "      <td>4</td>\n",
              "      <td>800.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>AA</td>\n",
              "      <td>1678</td>\n",
              "      <td>N536AA</td>\n",
              "      <td>135.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>106.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>MIA</td>\n",
              "      <td>MSY</td>\n",
              "      <td>674</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>179471 rows  29 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-842c05ba-04e9-49a0-91e9-b58b27e0b847')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-842c05ba-04e9-49a0-91e9-b58b27e0b847 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-842c05ba-04e9-49a0-91e9-b58b27e0b847');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-ca590d66-0ede-4757-9312-d0fd85eff0cf\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-ca590d66-0ede-4757-9312-d0fd85eff0cf')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-ca590d66-0ede-4757-9312-d0fd85eff0cf button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_ad2c804d-ffe9-49cc-8cb0-1c322c9ade85\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('copy4')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_ad2c804d-ffe9-49cc-8cb0-1c322c9ade85 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('copy4');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "copy4"
            }
          },
          "metadata": {},
          "execution_count": 36
        }
      ],
      "source": [
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "import numpy as plt\n",
        "pd.set_option('display.max_columns', None) #this allows us to view all the columns of the dataframe\n",
        "df_1995=pd.read_csv('1995.csv')\n",
        "copy4 = df_1995.copy()\n",
        "copy4"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "8ed9a92f",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 958
        },
        "id": "8ed9a92f",
        "outputId": "a4dd1a81-14cd-4dfd-9a12-b26fc53aed7a"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                   Correlation\n",
              "Year                       NaN\n",
              "Month                      NaN\n",
              "DayofMonth           -0.023598\n",
              "DayOfWeek            -0.009797\n",
              "DepTime              -0.004232\n",
              "CRSDepTime           -0.013706\n",
              "ArrTime                    NaN\n",
              "CRSArrTime           -0.009596\n",
              "UniqueCarrier              NaN\n",
              "FlightNum            -0.013775\n",
              "TailNum                    NaN\n",
              "ActualElapsedTime          NaN\n",
              "CRSElapsedTime        0.013105\n",
              "AirTime                    NaN\n",
              "ArrDelay                   NaN\n",
              "DepDelay              0.101799\n",
              "Origin                     NaN\n",
              "Dest                       NaN\n",
              "Distance              0.012628\n",
              "TaxiIn               -0.098624\n",
              "TaxiOut               0.015538\n",
              "Cancelled            -0.011333\n",
              "CancellationCode           NaN\n",
              "Diverted              1.000000\n",
              "CarrierDelay               NaN\n",
              "WeatherDelay               NaN\n",
              "NASDelay                   NaN\n",
              "SecurityDelay              NaN\n",
              "LateAircraftDelay          NaN"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-c1f75d79-64ff-42bb-a71b-1c6638e2fea1\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Correlation</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Year</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Month</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DayofMonth</th>\n",
              "      <td>-0.023598</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DayOfWeek</th>\n",
              "      <td>-0.009797</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DepTime</th>\n",
              "      <td>-0.004232</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSDepTime</th>\n",
              "      <td>-0.013706</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ArrTime</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSArrTime</th>\n",
              "      <td>-0.009596</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>FlightNum</th>\n",
              "      <td>-0.013775</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TailNum</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <td>0.013105</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>AirTime</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>ArrDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>DepDelay</th>\n",
              "      <td>0.101799</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Origin</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Dest</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Distance</th>\n",
              "      <td>0.012628</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TaxiIn</th>\n",
              "      <td>-0.098624</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>TaxiOut</th>\n",
              "      <td>0.015538</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Cancelled</th>\n",
              "      <td>-0.011333</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CancellationCode</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Diverted</th>\n",
              "      <td>1.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>CarrierDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>WeatherDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>NASDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>SecurityDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>LateAircraftDelay</th>\n",
              "      <td>NaN</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c1f75d79-64ff-42bb-a71b-1c6638e2fea1')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-c1f75d79-64ff-42bb-a71b-1c6638e2fea1 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-c1f75d79-64ff-42bb-a71b-1c6638e2fea1');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-96c4fcd7-7c2a-48d8-a69c-cdb0a0cf2726\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-96c4fcd7-7c2a-48d8-a69c-cdb0a0cf2726')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-96c4fcd7-7c2a-48d8-a69c-cdb0a0cf2726 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_c750a18e-d7f1-4432-bcbf-757a453665bc\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('corr_df')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_c750a18e-d7f1-4432-bcbf-757a453665bc button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('corr_df');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "corr_df",
              "summary": "{\n  \"name\": \"corr_df\",\n  \"rows\": 29,\n  \"fields\": [\n    {\n      \"column\": \"Correlation\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.2815542875551731,\n        \"min\": -0.09862388767580936,\n        \"max\": 1.0,\n        \"num_unique_values\": 13,\n        \"samples\": [\n          -0.011333252704450701,\n          -0.09862388767580936,\n          -0.023597959263539987\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 37
        }
      ],
      "source": [
        "copy4 = copy4.applymap(pd.to_numeric, errors='coerce')\n",
        "corr=copy4.corrwith(copy4[\"Diverted\"])\n",
        "corr_df=pd.DataFrame(corr, columns=['Correlation'])\n",
        "corr_df"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "1e1992c8",
      "metadata": {
        "id": "1e1992c8"
      },
      "source": [
        "after getting the results we notice that taxi in is the best regressor we have, apon further inspection we notice an intresting relationship between TaxiIn and Diverted :\n",
        "Whenever Diverted = 1, TaxiIn = 0\n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "43c13cc6",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "43c13cc6",
        "outputId": "08a9c6e8-4e27-4bb1-e07d-a0016ea7b67a"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "True"
            ]
          },
          "metadata": {},
          "execution_count": 38
        }
      ],
      "source": [
        "# we compare the shape of the data frame where \"Diverted\"=1 to the shape of the dataframe Where \"Diverted\"=1 and \"TaxiIn\"=0\n",
        "\n",
        "copy4[(copy4['Diverted']==1)].shape == copy4[((copy4['TaxiIn']==0) & (copy4['Diverted']==1) )].shape"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "d4c2f5d0",
      "metadata": {
        "id": "d4c2f5d0"
      },
      "source": [
        "but not whenever TaxiIn = 0 Diverted = 1"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "78a75743",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "78a75743",
        "outputId": "8f4e7517-7541-4232-cbe2-c6f0080dde8a"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "False"
            ]
          },
          "metadata": {},
          "execution_count": 39
        }
      ],
      "source": [
        "# we compare the shape of the data frame where \"Diverted\"=1 to the shape of the dataframe Where \"Diverted\"=1 and \"TaxiIn\"=0\n",
        "\n",
        "copy4[(copy4['TaxiIn']==0)].shape == copy4[((copy4['TaxiIn']==0) & (copy4['Diverted']==1) )].shape"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "6e556da9",
      "metadata": {
        "id": "6e556da9"
      },
      "source": [
        "So it would be better to make a dummy variable x=1 when TaxiIn =0 and x=0 whenever TaxiIn !=0 and use it as an indicator to avoid giving extra weight for the large values where as we only care if its equal to 0 or not"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "e3bf6b7c",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 443
        },
        "id": "e3bf6b7c",
        "outputId": "e17e5b8b-52a6-48c6-ac8c-9494645cc737"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        Year  Month  DayofMonth  DayOfWeek  DepTime  CRSDepTime  ArrTime  \\\n",
              "0       1995      1           6          5    657.0         645    952.0   \n",
              "1       1995      1           7          6    648.0         645    938.0   \n",
              "2       1995      1           8          7    649.0         645    932.0   \n",
              "3       1995      1           9          1    645.0         645    928.0   \n",
              "4       1995      1          10          2    645.0         645    931.0   \n",
              "...      ...    ...         ...        ...      ...         ...      ...   \n",
              "179466  1995      1          15          7    801.0         800    904.0   \n",
              "179467  1995      1          16          1    802.0         800    906.0   \n",
              "179468  1995      1          17          2    801.0         800    915.0   \n",
              "179469  1995      1          18          3    757.0         800    902.0   \n",
              "179470  1995      1          19          4    800.0         800    915.0   \n",
              "\n",
              "        CRSArrTime  UniqueCarrier  FlightNum  TailNum  ActualElapsedTime  \\\n",
              "0              937            NaN        482      NaN              115.0   \n",
              "1              937            NaN        482      NaN              110.0   \n",
              "2              937            NaN        482      NaN              103.0   \n",
              "3              937            NaN        482      NaN              103.0   \n",
              "4              937            NaN        482      NaN              106.0   \n",
              "...            ...            ...        ...      ...                ...   \n",
              "179466         909            NaN       1678      NaN              123.0   \n",
              "179467         909            NaN       1678      NaN              124.0   \n",
              "179468         909            NaN       1678      NaN              134.0   \n",
              "179469         909            NaN       1678      NaN              125.0   \n",
              "179470         909            NaN       1678      NaN              135.0   \n",
              "\n",
              "        CRSElapsedTime  AirTime  ArrDelay  DepDelay  Origin  Dest  Distance  \\\n",
              "0                112.0     83.0      15.0      12.0     NaN   NaN       678   \n",
              "1                112.0     88.0       1.0       3.0     NaN   NaN       678   \n",
              "2                112.0     83.0      -5.0       4.0     NaN   NaN       678   \n",
              "3                112.0     84.0      -9.0       0.0     NaN   NaN       678   \n",
              "4                112.0     82.0      -6.0       0.0     NaN   NaN       678   \n",
              "...                ...      ...       ...       ...     ...   ...       ...   \n",
              "179466           129.0     99.0      -5.0       1.0     NaN   NaN       674   \n",
              "179467           129.0    100.0      -3.0       2.0     NaN   NaN       674   \n",
              "179468           129.0     99.0       6.0       1.0     NaN   NaN       674   \n",
              "179469           129.0     93.0      -7.0      -3.0     NaN   NaN       674   \n",
              "179470           129.0    106.0       6.0       0.0     NaN   NaN       674   \n",
              "\n",
              "        TaxiIn  TaxiOut  Cancelled  CancellationCode  Diverted  CarrierDelay  \\\n",
              "0          7.0     25.0        0.0               NaN       0.0           NaN   \n",
              "1          5.0     17.0        0.0               NaN       0.0           NaN   \n",
              "2          3.0     17.0        0.0               NaN       0.0           NaN   \n",
              "3          3.0     16.0        0.0               NaN       0.0           NaN   \n",
              "4          6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "...        ...      ...        ...               ...       ...           ...   \n",
              "179466     5.0     19.0        0.0               NaN       0.0           NaN   \n",
              "179467     6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "179468     4.0     31.0        0.0               NaN       0.0           NaN   \n",
              "179469     6.0     26.0        0.0               NaN       0.0           NaN   \n",
              "179470     NaN      NaN        NaN               NaN       NaN           NaN   \n",
              "\n",
              "        WeatherDelay  NASDelay  SecurityDelay  LateAircraftDelay  Taxi_dum  \n",
              "0                NaN       NaN            NaN                NaN         0  \n",
              "1                NaN       NaN            NaN                NaN         0  \n",
              "2                NaN       NaN            NaN                NaN         0  \n",
              "3                NaN       NaN            NaN                NaN         0  \n",
              "4                NaN       NaN            NaN                NaN         0  \n",
              "...              ...       ...            ...                ...       ...  \n",
              "179466           NaN       NaN            NaN                NaN         0  \n",
              "179467           NaN       NaN            NaN                NaN         0  \n",
              "179468           NaN       NaN            NaN                NaN         0  \n",
              "179469           NaN       NaN            NaN                NaN         0  \n",
              "179470           NaN       NaN            NaN                NaN         0  \n",
              "\n",
              "[179471 rows x 30 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-682d4a7b-d88e-4cf4-897b-ab9ab1df8b48\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Year</th>\n",
              "      <th>Month</th>\n",
              "      <th>DayofMonth</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th>DepTime</th>\n",
              "      <th>CRSDepTime</th>\n",
              "      <th>ArrTime</th>\n",
              "      <th>CRSArrTime</th>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <th>FlightNum</th>\n",
              "      <th>TailNum</th>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>AirTime</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>Origin</th>\n",
              "      <th>Dest</th>\n",
              "      <th>Distance</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>TaxiOut</th>\n",
              "      <th>Cancelled</th>\n",
              "      <th>CancellationCode</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>CarrierDelay</th>\n",
              "      <th>WeatherDelay</th>\n",
              "      <th>NASDelay</th>\n",
              "      <th>SecurityDelay</th>\n",
              "      <th>LateAircraftDelay</th>\n",
              "      <th>Taxi_dum</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>6</td>\n",
              "      <td>5</td>\n",
              "      <td>657.0</td>\n",
              "      <td>645</td>\n",
              "      <td>952.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>115.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>15.0</td>\n",
              "      <td>12.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>7.0</td>\n",
              "      <td>25.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>7</td>\n",
              "      <td>6</td>\n",
              "      <td>648.0</td>\n",
              "      <td>645</td>\n",
              "      <td>938.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>110.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>88.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>5.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>8</td>\n",
              "      <td>7</td>\n",
              "      <td>649.0</td>\n",
              "      <td>645</td>\n",
              "      <td>932.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>4.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>9</td>\n",
              "      <td>1</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>928.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>84.0</td>\n",
              "      <td>-9.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>16.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>10</td>\n",
              "      <td>2</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>931.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>106.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>82.0</td>\n",
              "      <td>-6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179466</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>15</td>\n",
              "      <td>7</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>904.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>123.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>5.0</td>\n",
              "      <td>19.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179467</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>16</td>\n",
              "      <td>1</td>\n",
              "      <td>802.0</td>\n",
              "      <td>800</td>\n",
              "      <td>906.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>124.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>100.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179468</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>17</td>\n",
              "      <td>2</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>134.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>4.0</td>\n",
              "      <td>31.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179469</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>18</td>\n",
              "      <td>3</td>\n",
              "      <td>757.0</td>\n",
              "      <td>800</td>\n",
              "      <td>902.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>125.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>93.0</td>\n",
              "      <td>-7.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>26.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179470</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>19</td>\n",
              "      <td>4</td>\n",
              "      <td>800.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>135.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>106.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>179471 rows  30 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-682d4a7b-d88e-4cf4-897b-ab9ab1df8b48')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-682d4a7b-d88e-4cf4-897b-ab9ab1df8b48 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-682d4a7b-d88e-4cf4-897b-ab9ab1df8b48');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-697dd872-11f0-44c8-81cd-fd45a712e0a5\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-697dd872-11f0-44c8-81cd-fd45a712e0a5')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-697dd872-11f0-44c8-81cd-fd45a712e0a5 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_85de4621-790b-47d8-8df4-029f1fab733c\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('copy4')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_85de4621-790b-47d8-8df4-029f1fab733c button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('copy4');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "copy4"
            }
          },
          "metadata": {},
          "execution_count": 40
        }
      ],
      "source": [
        "copy4['Taxi_dum']= (copy4['TaxiIn']==0).astype(int)\n",
        "copy4"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "6f5e2247",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "6f5e2247",
        "outputId": "963382ee-360b-41fa-ee00-203d37db8ac3"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "r =  0.8126207614059555 r^2 =  0.6603525018679949\n"
          ]
        }
      ],
      "source": [
        "cor = copy4['Diverted'].corr(copy4['Taxi_dum'])\n",
        "print('r = ',cor, 'r^2 = ',cor**2)"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "fc81adf0",
      "metadata": {
        "id": "fc81adf0"
      },
      "source": [
        "That is way higher than the result before so this is a better regressor"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "b5ae176c",
      "metadata": {
        "id": "b5ae176c"
      },
      "source": [
        "We also could use the observation we made earlier where whenever 'ArrDelay' had a NaN value the the plane was diverted , the correlation table was not able to capture this relation due to it being a 'NaN' value , so we could further test this information by creating a new dummy variable 'Arr_dum'"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "70ef408b",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 443
        },
        "id": "70ef408b",
        "outputId": "dda7ac71-3e64-4eea-cb1d-c4a30e9a0614"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        Year  Month  DayofMonth  DayOfWeek  DepTime  CRSDepTime  ArrTime  \\\n",
              "0       1995      1           6          5    657.0         645    952.0   \n",
              "1       1995      1           7          6    648.0         645    938.0   \n",
              "2       1995      1           8          7    649.0         645    932.0   \n",
              "3       1995      1           9          1    645.0         645    928.0   \n",
              "4       1995      1          10          2    645.0         645    931.0   \n",
              "...      ...    ...         ...        ...      ...         ...      ...   \n",
              "179466  1995      1          15          7    801.0         800    904.0   \n",
              "179467  1995      1          16          1    802.0         800    906.0   \n",
              "179468  1995      1          17          2    801.0         800    915.0   \n",
              "179469  1995      1          18          3    757.0         800    902.0   \n",
              "179470  1995      1          19          4    800.0         800    915.0   \n",
              "\n",
              "        CRSArrTime  UniqueCarrier  FlightNum  TailNum  ActualElapsedTime  \\\n",
              "0              937            NaN        482      NaN              115.0   \n",
              "1              937            NaN        482      NaN              110.0   \n",
              "2              937            NaN        482      NaN              103.0   \n",
              "3              937            NaN        482      NaN              103.0   \n",
              "4              937            NaN        482      NaN              106.0   \n",
              "...            ...            ...        ...      ...                ...   \n",
              "179466         909            NaN       1678      NaN              123.0   \n",
              "179467         909            NaN       1678      NaN              124.0   \n",
              "179468         909            NaN       1678      NaN              134.0   \n",
              "179469         909            NaN       1678      NaN              125.0   \n",
              "179470         909            NaN       1678      NaN              135.0   \n",
              "\n",
              "        CRSElapsedTime  AirTime  ArrDelay  DepDelay  Origin  Dest  Distance  \\\n",
              "0                112.0     83.0      15.0      12.0     NaN   NaN       678   \n",
              "1                112.0     88.0       1.0       3.0     NaN   NaN       678   \n",
              "2                112.0     83.0      -5.0       4.0     NaN   NaN       678   \n",
              "3                112.0     84.0      -9.0       0.0     NaN   NaN       678   \n",
              "4                112.0     82.0      -6.0       0.0     NaN   NaN       678   \n",
              "...                ...      ...       ...       ...     ...   ...       ...   \n",
              "179466           129.0     99.0      -5.0       1.0     NaN   NaN       674   \n",
              "179467           129.0    100.0      -3.0       2.0     NaN   NaN       674   \n",
              "179468           129.0     99.0       6.0       1.0     NaN   NaN       674   \n",
              "179469           129.0     93.0      -7.0      -3.0     NaN   NaN       674   \n",
              "179470           129.0    106.0       6.0       0.0     NaN   NaN       674   \n",
              "\n",
              "        TaxiIn  TaxiOut  Cancelled  CancellationCode  Diverted  CarrierDelay  \\\n",
              "0          7.0     25.0        0.0               NaN       0.0           NaN   \n",
              "1          5.0     17.0        0.0               NaN       0.0           NaN   \n",
              "2          3.0     17.0        0.0               NaN       0.0           NaN   \n",
              "3          3.0     16.0        0.0               NaN       0.0           NaN   \n",
              "4          6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "...        ...      ...        ...               ...       ...           ...   \n",
              "179466     5.0     19.0        0.0               NaN       0.0           NaN   \n",
              "179467     6.0     18.0        0.0               NaN       0.0           NaN   \n",
              "179468     4.0     31.0        0.0               NaN       0.0           NaN   \n",
              "179469     6.0     26.0        0.0               NaN       0.0           NaN   \n",
              "179470     NaN      NaN        NaN               NaN       NaN           NaN   \n",
              "\n",
              "        WeatherDelay  NASDelay  SecurityDelay  LateAircraftDelay  Taxi_dum  \\\n",
              "0                NaN       NaN            NaN                NaN         0   \n",
              "1                NaN       NaN            NaN                NaN         0   \n",
              "2                NaN       NaN            NaN                NaN         0   \n",
              "3                NaN       NaN            NaN                NaN         0   \n",
              "4                NaN       NaN            NaN                NaN         0   \n",
              "...              ...       ...            ...                ...       ...   \n",
              "179466           NaN       NaN            NaN                NaN         0   \n",
              "179467           NaN       NaN            NaN                NaN         0   \n",
              "179468           NaN       NaN            NaN                NaN         0   \n",
              "179469           NaN       NaN            NaN                NaN         0   \n",
              "179470           NaN       NaN            NaN                NaN         0   \n",
              "\n",
              "        Arr_dum  \n",
              "0             0  \n",
              "1             0  \n",
              "2             0  \n",
              "3             0  \n",
              "4             0  \n",
              "...         ...  \n",
              "179466        0  \n",
              "179467        0  \n",
              "179468        0  \n",
              "179469        0  \n",
              "179470        0  \n",
              "\n",
              "[179471 rows x 31 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-a3edfe7f-39e9-4acd-a83d-42a8cb49ae2e\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Year</th>\n",
              "      <th>Month</th>\n",
              "      <th>DayofMonth</th>\n",
              "      <th>DayOfWeek</th>\n",
              "      <th>DepTime</th>\n",
              "      <th>CRSDepTime</th>\n",
              "      <th>ArrTime</th>\n",
              "      <th>CRSArrTime</th>\n",
              "      <th>UniqueCarrier</th>\n",
              "      <th>FlightNum</th>\n",
              "      <th>TailNum</th>\n",
              "      <th>ActualElapsedTime</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>AirTime</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>Origin</th>\n",
              "      <th>Dest</th>\n",
              "      <th>Distance</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>TaxiOut</th>\n",
              "      <th>Cancelled</th>\n",
              "      <th>CancellationCode</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>CarrierDelay</th>\n",
              "      <th>WeatherDelay</th>\n",
              "      <th>NASDelay</th>\n",
              "      <th>SecurityDelay</th>\n",
              "      <th>LateAircraftDelay</th>\n",
              "      <th>Taxi_dum</th>\n",
              "      <th>Arr_dum</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>6</td>\n",
              "      <td>5</td>\n",
              "      <td>657.0</td>\n",
              "      <td>645</td>\n",
              "      <td>952.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>115.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>15.0</td>\n",
              "      <td>12.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>7.0</td>\n",
              "      <td>25.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>7</td>\n",
              "      <td>6</td>\n",
              "      <td>648.0</td>\n",
              "      <td>645</td>\n",
              "      <td>938.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>110.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>88.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>5.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>8</td>\n",
              "      <td>7</td>\n",
              "      <td>649.0</td>\n",
              "      <td>645</td>\n",
              "      <td>932.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>83.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>4.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>17.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>9</td>\n",
              "      <td>1</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>928.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>103.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>84.0</td>\n",
              "      <td>-9.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>3.0</td>\n",
              "      <td>16.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>10</td>\n",
              "      <td>2</td>\n",
              "      <td>645.0</td>\n",
              "      <td>645</td>\n",
              "      <td>931.0</td>\n",
              "      <td>937</td>\n",
              "      <td>NaN</td>\n",
              "      <td>482</td>\n",
              "      <td>NaN</td>\n",
              "      <td>106.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>82.0</td>\n",
              "      <td>-6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>678</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179466</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>15</td>\n",
              "      <td>7</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>904.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>123.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>5.0</td>\n",
              "      <td>19.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179467</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>16</td>\n",
              "      <td>1</td>\n",
              "      <td>802.0</td>\n",
              "      <td>800</td>\n",
              "      <td>906.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>124.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>100.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>18.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179468</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>17</td>\n",
              "      <td>2</td>\n",
              "      <td>801.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>134.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>99.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>4.0</td>\n",
              "      <td>31.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179469</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>18</td>\n",
              "      <td>3</td>\n",
              "      <td>757.0</td>\n",
              "      <td>800</td>\n",
              "      <td>902.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>125.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>93.0</td>\n",
              "      <td>-7.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>6.0</td>\n",
              "      <td>26.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179470</th>\n",
              "      <td>1995</td>\n",
              "      <td>1</td>\n",
              "      <td>19</td>\n",
              "      <td>4</td>\n",
              "      <td>800.0</td>\n",
              "      <td>800</td>\n",
              "      <td>915.0</td>\n",
              "      <td>909</td>\n",
              "      <td>NaN</td>\n",
              "      <td>1678</td>\n",
              "      <td>NaN</td>\n",
              "      <td>135.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>106.0</td>\n",
              "      <td>6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>674</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>NaN</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>179471 rows  31 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a3edfe7f-39e9-4acd-a83d-42a8cb49ae2e')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-a3edfe7f-39e9-4acd-a83d-42a8cb49ae2e button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-a3edfe7f-39e9-4acd-a83d-42a8cb49ae2e');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-fc50e926-f1e7-4731-b8c6-78f9d3e2b208\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-fc50e926-f1e7-4731-b8c6-78f9d3e2b208')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-fc50e926-f1e7-4731-b8c6-78f9d3e2b208 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_342d8b4d-7c4f-4527-8e84-80820bafe2f8\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('copy4')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_342d8b4d-7c4f-4527-8e84-80820bafe2f8 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('copy4');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "copy4"
            }
          },
          "metadata": {},
          "execution_count": 42
        }
      ],
      "source": [
        "copy4['Arr_dum'] = (copy4['ArrTime'].isnull()).astype(int)\n",
        "copy4"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "9efc4a94",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "9efc4a94",
        "outputId": "b861fd04-f775-4886-dbd6-7c61c75ec350"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "r =  0.32954880905973005 r^2 =  0.10860241755268642\n"
          ]
        }
      ],
      "source": [
        "cor2 = copy4['Diverted'].corr(copy4['Arr_dum'])\n",
        "print('r = ',cor2, 'r^2 = ',cor2**2)"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "ce47949e",
      "metadata": {
        "id": "ce47949e"
      },
      "source": [
        "this is also a very good regressor\n",
        "we decided to use these two variables"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "6d0963e0",
      "metadata": {
        "id": "6d0963e0"
      },
      "source": [
        "\n",
        "we decided to use the top 4 variables (to include some controle variables)\n",
        "The variables are : 'Taxi_dum', 'DepDelay', 'CRSElapsedTime' and 'Distance'"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "953fef14",
      "metadata": {
        "id": "953fef14"
      },
      "source": [
        "### Data cleaning\n",
        "\n",
        "we start by cleaning the data"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "7623105b",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "7623105b",
        "outputId": "71e501cd-c67a-4b4e-fcd4-18b58ffec324"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Taxi_dum             0\n",
              "Arr_dum              0\n",
              "TaxiIn               1\n",
              "ArrDelay          6332\n",
              "DepDelay          5622\n",
              "CRSElapsedTime       6\n",
              "Distance             0\n",
              "Diverted             1\n",
              "dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 88
        }
      ],
      "source": [
        "model_data=copy4[['Taxi_dum','Arr_dum','TaxiIn','ArrDelay', 'DepDelay','CRSElapsedTime','Distance','Diverted']]\n",
        "model_data.isnull().sum()"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "model_data.dropna(subset=['Diverted'], inplace=True)\n",
        "model_data = model_data.fillna(model_data.mean())\n",
        "\n",
        "model_data.isnull().sum()\n"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "CSUGqufexA9_",
        "outputId": "31a0a206-fec9-461e-b3d5-7f4e8d35b964"
      },
      "id": "CSUGqufexA9_",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Taxi_dum          0\n",
              "Arr_dum           0\n",
              "TaxiIn            0\n",
              "ArrDelay          0\n",
              "DepDelay          0\n",
              "CRSElapsedTime    0\n",
              "Distance          0\n",
              "Diverted          0\n",
              "div               0\n",
              "dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 93
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "model_data['div']=model_data['Diverted'].astype(int)# Our target should be categorical : 0 or 1\n",
        "model_data"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 423
        },
        "id": "Wn-1ZI2kxLTl",
        "outputId": "858304e3-543a-4f61-8a13-0d4889f07686"
      },
      "id": "Wn-1ZI2kxLTl",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        Taxi_dum  Arr_dum    TaxiIn  ArrDelay  DepDelay  CRSElapsedTime  \\\n",
              "0              0        0  7.000000      15.0      12.0           112.0   \n",
              "1              0        0  5.000000       1.0       3.0           112.0   \n",
              "2              0        0  3.000000      -5.0       4.0           112.0   \n",
              "3              0        0  3.000000      -9.0       0.0           112.0   \n",
              "4              0        0  6.000000      -6.0       0.0           112.0   \n",
              "...          ...      ...       ...       ...       ...             ...   \n",
              "179466         0        0  5.000000      -5.0       1.0           129.0   \n",
              "179467         0        0  6.000000      -3.0       2.0           129.0   \n",
              "179468         0        0  4.000000       6.0       1.0           129.0   \n",
              "179469         0        0  6.000000      -7.0      -3.0           129.0   \n",
              "179470         0        0  4.781178       6.0       0.0           129.0   \n",
              "\n",
              "        Distance  Diverted  div  \n",
              "0            678  0.000000    0  \n",
              "1            678  0.000000    0  \n",
              "2            678  0.000000    0  \n",
              "3            678  0.000000    0  \n",
              "4            678  0.000000    0  \n",
              "...          ...       ...  ...  \n",
              "179466       674  0.000000    0  \n",
              "179467       674  0.000000    0  \n",
              "179468       674  0.000000    0  \n",
              "179469       674  0.000000    0  \n",
              "179470       674  0.003956    0  \n",
              "\n",
              "[179471 rows x 9 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-aa628df0-e9a1-468f-821f-cffd321af814\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Taxi_dum</th>\n",
              "      <th>Arr_dum</th>\n",
              "      <th>TaxiIn</th>\n",
              "      <th>ArrDelay</th>\n",
              "      <th>DepDelay</th>\n",
              "      <th>CRSElapsedTime</th>\n",
              "      <th>Distance</th>\n",
              "      <th>Diverted</th>\n",
              "      <th>div</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>7.000000</td>\n",
              "      <td>15.0</td>\n",
              "      <td>12.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>678</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>5.000000</td>\n",
              "      <td>1.0</td>\n",
              "      <td>3.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>678</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>3.000000</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>4.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>678</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>3.000000</td>\n",
              "      <td>-9.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>678</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>6.000000</td>\n",
              "      <td>-6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>112.0</td>\n",
              "      <td>678</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179466</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>5.000000</td>\n",
              "      <td>-5.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>674</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179467</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>6.000000</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>2.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>674</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179468</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>4.000000</td>\n",
              "      <td>6.0</td>\n",
              "      <td>1.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>674</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179469</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>6.000000</td>\n",
              "      <td>-7.0</td>\n",
              "      <td>-3.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>674</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>179470</th>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>4.781178</td>\n",
              "      <td>6.0</td>\n",
              "      <td>0.0</td>\n",
              "      <td>129.0</td>\n",
              "      <td>674</td>\n",
              "      <td>0.003956</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>179471 rows  9 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-aa628df0-e9a1-468f-821f-cffd321af814')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-aa628df0-e9a1-468f-821f-cffd321af814 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-aa628df0-e9a1-468f-821f-cffd321af814');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-e283e418-8f3c-4645-aba4-7589791d0d50\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-e283e418-8f3c-4645-aba4-7589791d0d50')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-e283e418-8f3c-4645-aba4-7589791d0d50 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "  <div id=\"id_70bb3e95-8130-4a05-a104-28d871e69348\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('model_data')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_70bb3e95-8130-4a05-a104-28d871e69348 button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('model_data');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "model_data"
            }
          },
          "metadata": {},
          "execution_count": 92
        }
      ]
    },
    {
      "cell_type": "markdown",
      "id": "4aa1497c",
      "metadata": {
        "id": "4aa1497c"
      },
      "source": [
        "### Modeling\n",
        "\n",
        "We start by specifying the features and target set"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "461f4266",
      "metadata": {
        "id": "461f4266"
      },
      "outputs": [],
      "source": [
        "# importing libraries\n",
        "from sklearn.model_selection import train_test_split\n",
        "\n",
        "# Splitting the features and the target\n",
        "X = model_data.drop(columns=[\"Diverted\",\"div\"])\n",
        "Y = model_data['div']\n",
        "\n",
        "# Split the data into training and test sets\n",
        "X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size=0.2)\n",
        "\n",
        "\n"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "Y_train.dtype"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "KR9F-g1yqEHy",
        "outputId": "14a21134-edfc-4992-a798-82eeeb6705cc"
      },
      "id": "KR9F-g1yqEHy",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "dtype('int64')"
            ]
          },
          "metadata": {},
          "execution_count": 96
        }
      ]
    },
    {
      "cell_type": "markdown",
      "id": "445aa9b0",
      "metadata": {
        "id": "445aa9b0"
      },
      "source": [
        "## Regression\n",
        "\n",
        "we run our regression"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "040294e1",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 74
        },
        "id": "040294e1",
        "outputId": "91114f04-74b1-46a0-9c58-eb33c71523d0"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "LogisticRegression(max_iter=1000)"
            ],
            "text/html": [
              "<style>#sk-container-id-4 {color: black;background-color: white;}#sk-container-id-4 pre{padding: 0;}#sk-container-id-4 div.sk-toggleable {background-color: white;}#sk-container-id-4 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-4 label.sk-toggleable__label-arrow:before {content: \"\";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-4 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-4 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-4 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-4 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-4 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-4 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: \"\";}#sk-container-id-4 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-4 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-4 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-4 div.sk-parallel-item::after {content: \"\";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-4 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-serial::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-4 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-4 div.sk-item {position: relative;z-index: 1;}#sk-container-id-4 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-4 div.sk-item::before, #sk-container-id-4 div.sk-parallel-item::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-4 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-4 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-4 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-4 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-4 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-4 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-4 div.sk-label-container {text-align: center;}#sk-container-id-4 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-4 div.sk-text-repr-fallback {display: none;}</style><div id=\"sk-container-id-4\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>LogisticRegression(max_iter=1000)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-4\" type=\"checkbox\" checked><label for=\"sk-estimator-id-4\" class=\"sk-toggleable__label sk-toggleable__label-arrow\">LogisticRegression</label><div class=\"sk-toggleable__content\"><pre>LogisticRegression(max_iter=1000)</pre></div></div></div></div></div>"
            ]
          },
          "metadata": {},
          "execution_count": 97
        }
      ],
      "source": [
        "from sklearn.linear_model import LogisticRegression\n",
        "\n",
        "logmodel = LogisticRegression(max_iter=1000)\n",
        "\n",
        "logmodel.fit(X_train,Y_train)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "69ee9f9d",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 449
        },
        "id": "69ee9f9d",
        "outputId": "eeb7e9f9-ba73-4edf-e392-139c77afd062"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<Figure size 640x480 with 2 Axes>"
            ],
            "image/png": "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\n"
          },
          "metadata": {}
        }
      ],
      "source": [
        "from sklearn.metrics import confusion_matrix\n",
        "from sklearn.metrics import ConfusionMatrixDisplay\n",
        "\n",
        "# Generate predictions with the best model\n",
        "Y_pred = logmodel.predict(X_test)\n",
        "\n",
        "# Create the confusion matrix\n",
        "cm = confusion_matrix(Y_test, Y_pred)\n",
        "\n",
        "ConfusionMatrixDisplay(confusion_matrix=cm).plot();"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "cdec4604",
      "metadata": {
        "id": "cdec4604"
      },
      "source": [
        "we will now inspect the classification report"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "0cb6dad3",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "0cb6dad3",
        "outputId": "1f7bd5fa-8d43-472f-aac4-e8fdfbb2a224"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "              precision    recall  f1-score   support\n",
            "\n",
            "           0       1.00      1.00      1.00     35731\n",
            "           1       0.68      0.99      0.81       164\n",
            "\n",
            "    accuracy                           1.00     35895\n",
            "   macro avg       0.84      0.99      0.90     35895\n",
            "weighted avg       1.00      1.00      1.00     35895\n",
            "\n"
          ]
        }
      ],
      "source": [
        "from sklearn.metrics import classification_report\n",
        "\n",
        "print(classification_report(Y_test, Y_pred))#, target_names=target_names))"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "9c2101c9",
      "metadata": {
        "id": "9c2101c9"
      },
      "source": [
        "and finally we get the coefficients"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "fd8fdda9",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "fd8fdda9",
        "outputId": "8d76f66f-151d-4f06-c5c1-ecbdbd9691ae"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Coefficients des variables : [[ 9.35214469e-01  8.92803803e-01 -5.99110638e+00 -6.90486951e-02\n",
            "   1.35607345e-02 -1.34763828e-02  1.91359751e-03]]\n",
            "Intercept : [-0.60638092]\n"
          ]
        }
      ],
      "source": [
        "coefficients = logmodel.coef_\n",
        "intercept = logmodel.intercept_\n",
        "\n",
        "print(\"Coefficients des variables :\", coefficients)\n",
        "print(\"Intercept :\", intercept)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "e7aa6d1f",
      "metadata": {
        "id": "e7aa6d1f"
      },
      "outputs": [],
      "source": []
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3 (ipykernel)",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.11.5"
    },
    "colab": {
      "provenance": [],
      "include_colab_link": true
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}